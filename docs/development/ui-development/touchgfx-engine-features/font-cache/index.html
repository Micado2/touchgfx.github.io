<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">


<title data-react-helmet="true">Font Caching | TouchGFX Documentation</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Font Caching | TouchGFX Documentation"><meta data-react-helmet="true" name="description" content="import Figure from &#x27;@site/components/Figure&#x27;;"><meta data-react-helmet="true" property="og:description" content="import Figure from &#x27;@site/components/Figure&#x27;;"><meta data-react-helmet="true" property="og:url" content="https://support.touchgfx.com/docs/development/ui-development/touchgfx-engine-features/font-cache">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png">


<link rel="stylesheet" href="/styles.a6bf2b41.css">


<link rel="preload" href="/styles.de28e60e.js" as="script">

<link rel="preload" href="/runtime~main.8a2efdc0.js" as="script">

<link rel="preload" href="/main.381d4bb7.js" as="script">

<link rel="preload" href="/common.342d16a4.js" as="script">

<link rel="preload" href="/2.1b591875.js" as="script">

<link rel="preload" href="/3.51029785.js" as="script">

<link rel="preload" href="/1be78505.5734c9c5.js" as="script">

<link rel="preload" href="/20ac7829.27e8b07e.js" as="script">

<link rel="preload" href="/17896441.8f4ce179.js" as="script">

<link rel="preload" href="/a5ff5995.c69ddce8.js" as="script">

</head>
<body>

<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" target="_self" href="/docs/introduction/welcome"><img class="navbar__logo" src="/img/logo.png" alt="TouchGFX"></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" href="/api/">API</a><a activeclassname="navbar__link--active" to="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" class="navbar__item navbar__link" target="_blank" href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx">Community</a><a activeclassname="navbar__link--active" to="https://touchgfx.com/" class="navbar__item navbar__link" href="https://touchgfx.com/">TouchGFX.com</a><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" target="_self" href="/docs/introduction/welcome"><img class="navbar__logo" src="/img/logo.png" alt="TouchGFX"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" target="_blank" href="/api/">API</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" to="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" class="menu__link" target="_blank" href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx">Community</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" to="https://touchgfx.com/" class="menu__link" href="https://touchgfx.com/">TouchGFX.com</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/welcome">Welcome</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/what-is-touchgfx">What is TouchGFX?</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/getting-started">Getting Started</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Basic Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/embedded-graphics">Embedded Graphics</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/color-formats">Color Formats</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/framebuffer">Framebuffer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/graphics-engine">Graphics Engine</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/rendering">Main Loop</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/performance">Performance</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/operating-system">Operating Systems</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/development-introduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hardware Selection</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/hardware-selection-introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/preliminary-considerations">Preliminary Considerations</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hardware Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/hardware-components/hardware-selection-mcu">MCU</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/hardware-components/hardware-selection-display">Display</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/hardware-components/hardware-selection-external-memories">External Memories</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Board Bring Up</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/board-introduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">How To</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/01-create-project">1. Create Project</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/02-cpu-running">2. CPU Running</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/03-display-internal">3. Framebuffer in internal RAM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/04-enable-external-ram">4. External RAM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/05-display-external">5. Framebuffer in external RAM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/06-flash-external-addressable">6. External addressable flash</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/07-flash-external-nonaddressable">7. External flash in block mode</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/08-hardware-acceleration">8. Hardware acceleration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/09-touch-controller">9. Touch Controller</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/10-physical-buttons">10. Physical Buttons</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/11-flash-loader">11. Flash Loader</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">TouchGFX AL Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/touchgfx-al-development-introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/touchgfx-architecture">Abstraction Layer Architecture</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/touchgfx-generator">Generator User Guide</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Scenarios</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/scenarios/scenarios-introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/scenarios/scenarios-ltdc-parallel-rgb">LTDC/Parallel RGB</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/scenarios/scenarios-fmc">FMC and SPI</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/scenarios/scenarios-framebuffer-strategies">Framebuffer Strategies</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/example-gpio">External events as triggers</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">UI Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-development-introduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Software Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/software-architecture/model-view-presenter-design-pattern">Model-View-Presenter Design Pattern</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/software-architecture/screen-definition-and-mvp">The Screen Concept</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/software-architecture/code-structure">Code Structure</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Working with TouchGFX</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/using-ides-with-touchgfx">Using IDEs with TouchGFX</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/widgets-and-containers">Widgets and Containers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/simulator">Simulator</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/compiling-and-flashing">Compiling &amp; Flashing</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/debugging">Debugging</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/examples">Examples</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Designer User Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/startup-window">Startup Window</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/file-menu">File Menu</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/main-window">Main Window</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/canvas-view">Canvas View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/images-view">Images View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/texts-view">Texts View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/config-view">Config View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/interactions-view">Interactions</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">TouchGFX Engine Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/custom-triggers-and-actions">Custom Triggers and Actions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/custom-containers">Custom Containers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/caching-bitmaps">Caching Bitmaps</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/custom-widgets">Custom Widgets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/canvas-widgets">Canvas Widgets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/dynamic-bitmaps">Dynamic Bitmaps</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/using-binary-fonts">Binary Fonts</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/development/ui-development/touchgfx-engine-features/font-cache">Font Caching</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/backend-communication">Backend Communication</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/mixins">Mixins</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts">Texts and Fonts</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/languages-and-characters">Languages and Characters</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UI Components</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Buttons</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/button">Button</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/button-with-label">ButtonWithLabel</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/button-with-icon">ButtonWithIcon</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/toggle-button">ToggleButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/radio-button">RadioButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/repeat-button">RepeatButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/flex-button">FlexButton</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Images</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/image">Image</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/scalable-image">ScalableImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/tiled-image">TiledImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/animated-image">AnimatedImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/texture-mapper">TextureMapper</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Containers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/container">Container</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/scrollable-container">ScrollableContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/swipe-container">SwipeContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/list-layout">ListLayout</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/modal-window">ModalWindow</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/scroll-list">ScrollList</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/scroll-wheel">ScrollWheel</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ProgressIndicators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/box-progress">BoxProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/image-progress">ImageProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/text-progress">TextProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/line-progress">LineProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/circle-progress">CircleProgress</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Shapes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/box">Box</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/box-with-border">BoxWithBorder</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/line">Line</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/circle">Circle</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/shape">Shape</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Miscellaneous</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/miscellaneous/slider">Slider</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/miscellaneous/text-area">TextArea</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/miscellaneous/analog-clock">AnalogClock</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/miscellaneous/digital-clock">DigitalClock</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/general-ui-component-performance">General UI Component Performance</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Scenarios</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/achieving-better-performance-with-cacheable-container">Achieving Better Performance with CacheableContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/loading-images-at-runtime">Loading Images at Runtime</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/lowering-memory-usage-with-partial-framebuffer">Lowering Memory Usage with Partial Framebuffer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/using-the-l8-image-format-to-reduce-memory-consumption">Using the L8 Image Format to Reduce Memory Consumption</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/creating-dynamic-l8-images">Creating Dynamic L8 Images</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/using-non-memory-mapped-flash">Using Non-Memory Mapped Flash for storing images</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Miscellaneous</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/updating-to-a-new-touchgfx-version">Updating to a new TouchGFX Version</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/getting-help">Getting Help</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/known-issues">Known Issues</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/changelog">Changelog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/3rd-party-components-in-touchgfx">3rd Party Components in TouchGFX</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-01">Tutorial 1: Trying Out the Examples</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-02">Tutorial 2: Creating Your Own Application</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-03">Tutorial 3: Applications with Multiple Screens</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-04">Tutorial 4: Creating a Scroll Wheel with Custom Behavior</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-05">Tutorial 5: Creating Custom Triggers and Actions</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Font Caching</h1></header><div class="markdown"><p>This section describes how to use the font cache to handle binary
fonts in TouchGFX.</p><p>Read first about <a href="/docs/development/ui-development/touchgfx-engine-features/using-binary-fonts">binary fonts</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="font-caching"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#font-caching" title="Direct link to heading">#</a>Font Caching</h2><p>Recall that using binary fonts require the whole font to be loaded to
memory. This can in some cases be undesireable if the font is large,
e.g. with large Chinese fonts.</p><p>Font caching allows an application to load from external memory only
the letters required to show a string. This means that the whole font
does not need to reside in the addressable flash or RAM, but can be
stored on a larger file system.</p><p>In the drawing below, the compiled-in font, Font2, has been replaced
by the font cache. When TouchGFX is drawing a text, that uses font 2,
TouchGFX will find the pointer to the <code>CachedFont</code> object in the
font table. This special font will lookup the letters in the FontCache
object.</p><div class="figure noshadow"><a href="/img/development/ui-development/scenarios/using-font-cache/fontcache1.png" target="_blank"><img width="600" src="/img/development/ui-development/scenarios/using-font-cache/fontcache1.png"></a><p>Using a cached font</p></div><p>The CachedFont is setup with a pointer to the linked-in font (Font2 above).
When TouchGFX asks the CachedFont for a specific letter, the
cachedFont will first look in the normal Font it is replacing
(Font2).
This font may be an empty font, but can also be a &quot;normal&quot; font
containing a selection of some often used letters. If the font does
not contain the required letter, the CachedFont will look into the
FontCache to see if the letter has been loaded from the file
system.</p><p>This principle limits the amount of letters that must be cached, as we
do not need to cache letters already found in the normal font.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="using-the-font-cache-in-application-code"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#using-the-font-cache-in-application-code" title="Direct link to heading">#</a>Using the Font Cache in application code</h2><p>Before the application can install a CachedFont it must also create a
FontCache, a memory buffer, and a file system reader object:</p><div class="code-header"><div><h5>Screen1View.cpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">uint8_t</span><span class="token plain"> fontdata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">5120</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Memory buffer for the font cache, 5Kb</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FontCache fontCache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CachedFont cachedFont</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Cached Font object</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FileDataReader reader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Filesystem reader object</span></div></div></div></div></div><p>The FontCache must be linked to the buffer and the reader:</p><div class="code-header"><div><h5>Screen1View.cpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//setup the font cache with buffer and size; and file reader object</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fontCache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setMemory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fontdata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5120</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fontCache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setReader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">reader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>Now the application can setup the font cache, initialize the
CachedFont and pass it to TouchGFX.</p><p>The font cache requires a TextId to initialize a CachedFont
object. The TextId is used to lookup the font that the CachedFont must
point to. This secures that you are replacing the font used by
the text that you have on your display:</p><div class="code-header"><div><h5>Screen1View.cpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//initialize the cachedFont object to the font used by T_SINGLEUSEID1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TypedText text </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">TypedText</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">T_SINGLEUSEID1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fontCache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">initializeCachedFont</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">cachedFont</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//replace the linked in font in TouchGFX with cachedFont</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TypedTextDatabase</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">setFont</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">DEFAULT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">cachedFont</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>The code above can be put anywhere in the application. If the cached
font is only used in a specific view, this view can be a good place to
insert the code.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="caching-letters"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#caching-letters" title="Direct link to heading">#</a>Caching Letters</h2><p>The font cache is still empty. Before we can show any letters they
must be read from the font cache. This is done by passing an array of
unicodes (a string) to the font cache. In this example we just pass
the text from T_SINGLEUSEID1.</p><div class="code-header"><div><h5>Screen1View.cpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//cache the glyphs used by the text T_SINGLEUSEID1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Unicode</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">UnicodeChar</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> str </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const_cast</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Unicode</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">UnicodeChar</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getText</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">bool</span><span class="token plain"> b </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> fontCache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">cacheString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>The font cache will load the letters found in the <code>str</code> array through the
reader object.
The read unicodes will be linked to the font that is used by the
TextId <code>text</code> argument.</p><p>The application is responsible for configuring the reader object to
load from the correct file.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="caching-ligatures"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#caching-ligatures" title="Direct link to heading">#</a>Caching Ligatures</h2><p>For languages that converts sequences of unicodes to other unicodes
before displaying (e.g. Arabic and Devanagari) the above method is not
good. It caches the original unicodes and not the unicodes that are
displayed after conversion. This method will convert the given
unicodes and cache the required unicodes (after conversion):</p><div class="code-header"><div><h5>Screen1View.cpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//cache the glyphs used by the text T_SINGLEUSEID1 after conversion</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Unicode</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">UnicodeChar</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> str </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const_cast</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Unicode</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">UnicodeChar</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getText</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">bool</span><span class="token plain"> b </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> fontCache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">cacheLigatures</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">cachedFont</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> text</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="memory-usage"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#memory-usage" title="Direct link to heading">#</a>Memory Usage</h2><p>The font cache can calculate the currently amount used memory:</p><div class="code-header"><div><h5>Screen1View.cpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">touchgfx_printf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Memory usage %d\n&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> fontCache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getMemoryUsage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="caching-gsub-tables"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#caching-gsub-tables" title="Direct link to heading">#</a>Caching GSUB Tables</h2><p>Some fonts uses a GSUB table while rendering. This is only a few fonts
for eastern languages, e.g. Devanagari fonts.
The GSUB tables allows the font system to reorder characters and
substitute sequences of characters for other &quot;combination&quot; characters.</p><p>The Font Cache can load this GSUB table from the file system. If it is
not loaded, the font is not displayed correctly as the GSUB table is
then not available to the text rendering system.</p><p>The GSUB table is loaded by supplying an extra argument when
initializing the cached font:</p><div class="code-header"><div><h5>Screen1View.cpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//initialize the cachedFont and load the GSUB table</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">text </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">TypedText</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">T_SINGLEUSEID1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">fontCache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">initializeCachedFont</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">cachedFont</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="implementing-the-font-file-reader"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#implementing-the-font-file-reader" title="Direct link to heading">#</a>Implementing the Font File Reader</h2><p>The FileDataReader class used in the above example code is not
included in TouchGFX as it is dependant on the operating system you
are using.</p><p>Here is an example for normal &quot;stdio&quot; compatible file systems.</p><div class="code-header"><div><h5>Screen1View.cpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileDataReader</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> FontDataReader</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">~</span><span class="token function" style="color:rgb(130, 170, 255)">FileDataReader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">open</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fp </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">fopen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Font_verdana_20_4bpp.bin&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;rb&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">fp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token function" style="color:rgb(130, 170, 255)">touchgfx_printf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Unable to open font file!!!\n&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">close</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">fclose</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setPosition</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">fseek</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">SEEK_SET</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">readData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> numberOfBytes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">fread</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> numberOfBytes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> fp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">private</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    FILE</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> fp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>The FileDataReader class implements the FontDataReader interface from FontCache.hpp:</p><div class="code-header"><div><h5>FontCache.hpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">FontDataReader</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">~</span><span class="token function" style="color:rgb(130, 170, 255)">FontDataReader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">open</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">close</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setPosition</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">readData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> numberOfBytes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/development/ui-development/touchgfx-engine-features/using-binary-fonts"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Binary Fonts</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/development/ui-development/touchgfx-engine-features/backend-communication"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Backend Communication »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#font-caching" class="contents__link">Font Caching</a></li><li><a href="#using-the-font-cache-in-application-code" class="contents__link">Using the Font Cache in application code</a></li><li><a href="#caching-letters" class="contents__link">Caching Letters</a></li><li><a href="#caching-ligatures" class="contents__link">Caching Ligatures</a></li><li><a href="#memory-usage" class="contents__link">Memory Usage</a></li><li><a href="#caching-gsub-tables" class="contents__link">Caching GSUB Tables</a></li><li><a href="#implementing-the-font-file-reader" class="contents__link">Implementing the Font File Reader</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div>All rights reserved © 2020 STMicroelectronics | <a href="https://www.st.com/content/st_com/en/common/terms-of-use.html">Terms of use</a> | <a href="https://www.st.com/content/ccc/resource/legal/legal_agreement/sales_agreement/49/05/8c/68/a0/35/4a/6e/ST%20Terms%20and%20Conditions%20of%20Sales.pdf/files/ST%20Terms%20and%20Conditions%20of%20Sales.pdf/_jcr_content/translations/en.ST%20Terms%20and%20Conditions%20of%20Sales.pdf">Sales Terms & Conditions</a> | <a href="https://www.st.com/content/st_com/en/common/privacy-policy.html">Privacy Policy</a> | <a href="https://www.st.com/content/st_com/en/common/cookies-policy.html">Manage cookies</a> | <a href="https://app-de.onetrust.com/app/#/webform/2b87200d-4023-4588-9df7-ab0cdea1a67e">Exercise your rights</a></div></div></div></footer>
</div>

<script src="/styles.de28e60e.js"></script>

<script src="/runtime~main.8a2efdc0.js"></script>

<script src="/main.381d4bb7.js"></script>

<script src="/common.342d16a4.js"></script>

<script src="/2.1b591875.js"></script>

<script src="/3.51029785.js"></script>

<script src="/1be78505.5734c9c5.js"></script>

<script src="/20ac7829.27e8b07e.js"></script>

<script src="/17896441.8f4ce179.js"></script>

<script src="/a5ff5995.c69ddce8.js"></script>


</body>
</html>