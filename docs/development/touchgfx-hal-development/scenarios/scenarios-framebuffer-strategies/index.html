<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">


<title data-react-helmet="true">Framebuffer Strategies | TouchGFX Documentation</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Framebuffer Strategies | TouchGFX Documentation"><meta data-react-helmet="true" name="description" content="import Figure from &#x27;@site/components/Figure&#x27;;"><meta data-react-helmet="true" property="og:description" content="import Figure from &#x27;@site/components/Figure&#x27;;"><meta data-react-helmet="true" property="og:url" content="https://support.touchgfx.com/docs/development/touchgfx-hal-development/scenarios/scenarios-framebuffer-strategies">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png">


<link rel="stylesheet" href="/styles.a6bf2b41.css">


<link rel="preload" href="/styles.e9d81739.js" as="script">

<link rel="preload" href="/runtime~main.5480e1e9.js" as="script">

<link rel="preload" href="/main.2f00fd5e.js" as="script">

<link rel="preload" href="/common.a01f277a.js" as="script">

<link rel="preload" href="/2.7ea106c9.js" as="script">

<link rel="preload" href="/3.f46da482.js" as="script">

<link rel="preload" href="/1be78505.e5419cbd.js" as="script">

<link rel="preload" href="/20ac7829.ab0d8bfc.js" as="script">

<link rel="preload" href="/17896441.9293b320.js" as="script">

<link rel="preload" href="/47bb034d.6d3187a1.js" as="script">

</head>
<body>

<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" target="_self" href="/docs/introduction/welcome"><img class="navbar__logo" src="/img/logo.png" alt="TouchGFX"></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" href="/api/">API</a><a activeclassname="navbar__link--active" to="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" class="navbar__item navbar__link" target="_blank" href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx">Community</a><a activeclassname="navbar__link--active" to="https://touchgfx.com/" class="navbar__item navbar__link" href="https://touchgfx.com/">TouchGFX.com</a><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" target="_self" href="/docs/introduction/welcome"><img class="navbar__logo" src="/img/logo.png" alt="TouchGFX"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" target="_blank" href="/api/">API</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" to="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" class="menu__link" target="_blank" href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx">Community</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" to="https://touchgfx.com/" class="menu__link" href="https://touchgfx.com/">TouchGFX.com</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/welcome">Welcome</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/what-is-touchgfx">What is TouchGFX?</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/getting-started">Getting Started</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Basic Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/embedded-graphics">Embedded Graphics</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/color-formats">Color Formats</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/framebuffer">Framebuffer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/graphics-engine">Graphics Engine</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/rendering">Main Loop</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/performance">Performance</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/operating-system">Operating Systems</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/development-introduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hardware Selection</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/hardware-selection-introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/preliminary-considerations">Preliminary Considerations</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hardware Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/hardware-components/hardware-selection-mcu">MCU</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/hardware-components/hardware-selection-display">Display</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/hardware-components/hardware-selection-external-memories">External Memories</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Board Bring Up</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/board-introduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">How To</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/01-create-project">1. Create Project</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/02-cpu-running">2. CPU Running</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/03-display-internal">3. Framebuffer in internal RAM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/04-enable-external-ram">4. External RAM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/05-display-external">5. Framebuffer in external RAM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/06-flash-external-addressable">6. External addressable flash</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/07-flash-external-nonaddressable">7. External flash in block mode</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/08-hardware-acceleration">8. Hardware acceleration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/09-touch-controller">9. Touch Controller</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/10-physical-buttons">10. Physical Buttons</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/11-flash-loader">11. Flash Loader</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">TouchGFX AL Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/touchgfx-al-development-introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/touchgfx-architecture">Abstraction Layer Architecture</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/touchgfx-generator">Generator User Guide</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Scenarios</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/scenarios/scenarios-introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/scenarios/scenarios-ltdc-parallel-rgb">LTDC/Parallel RGB</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/scenarios/scenarios-fmc">FMC and SPI</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/development/touchgfx-hal-development/scenarios/scenarios-framebuffer-strategies">Framebuffer Strategies</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/example-gpio">External events as triggers</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UI Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-development-introduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Software Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/software-architecture/model-view-presenter-design-pattern">Model-View-Presenter Design Pattern</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/software-architecture/screen-definition-and-mvp">The Screen Concept</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/software-architecture/code-structure">Code Structure</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Working with TouchGFX</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/using-ides-with-touchgfx">Using IDEs with TouchGFX</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/widgets-and-containers">Widgets and Containers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/simulator">Simulator</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/compiling-and-flashing">Compiling &amp; Flashing</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/debugging">Debugging</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/examples">Examples</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Designer User Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/startup-window">Startup Window</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/file-menu">File Menu</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/main-window">Main Window</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/canvas-view">Canvas View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/images-view">Images View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/texts-view">Texts View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/config-view">Config View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/interactions-view">Interactions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">TouchGFX Engine Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/custom-triggers-and-actions">Custom Triggers and Actions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/custom-containers">Custom Containers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/caching-bitmaps">Caching Bitmaps</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/custom-widgets">Custom Widgets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/canvas-widgets">Canvas Widgets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/dynamic-bitmaps">Dynamic Bitmaps</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/using-binary-fonts">Binary Fonts</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/font-cache">Font Caching</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/backend-communication">Backend Communication</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/mixins">Mixins</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts">Texts and Fonts</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/languages-and-characters">Languages and Characters</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UI Components</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Buttons</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/button">Button</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/button-with-label">ButtonWithLabel</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/button-with-icon">ButtonWithIcon</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/toggle-button">ToggleButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/radio-button">RadioButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/repeat-button">RepeatButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/flex-button">FlexButton</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Images</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/image">Image</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/scalable-image">ScalableImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/tiled-image">TiledImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/animated-image">AnimatedImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/texture-mapper">TextureMapper</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Containers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/container">Container</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/scrollable-container">ScrollableContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/swipe-container">SwipeContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/list-layout">ListLayout</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/modal-window">ModalWindow</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/scroll-list">ScrollList</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/scroll-wheel">ScrollWheel</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ProgressIndicators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/box-progress">BoxProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/image-progress">ImageProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/text-progress">TextProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/line-progress">LineProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/circle-progress">CircleProgress</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Shapes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/box">Box</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/box-with-border">BoxWithBorder</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/line">Line</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/circle">Circle</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/shape">Shape</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Miscellaneous</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/miscellaneous/slider">Slider</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/miscellaneous/text-area">TextArea</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/miscellaneous/analog-clock">AnalogClock</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/miscellaneous/digital-clock">DigitalClock</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/general-ui-component-performance">General UI Component Performance</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Scenarios</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/achieving-better-performance-with-cacheable-container">Achieving Better Performance with CacheableContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/loading-images-at-runtime">Loading Images at Runtime</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/lowering-memory-usage-with-partial-framebuffer">Lowering Memory Usage with Partial Framebuffer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/using-the-l8-image-format-to-reduce-memory-consumption">Using the L8 Image Format to Reduce Memory Consumption</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/creating-dynamic-l8-images">Creating Dynamic L8 Images</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/using-non-memory-mapped-flash">Using Non-Memory Mapped Flash for storing images</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Miscellaneous</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/updating-to-a-new-touchgfx-version">Updating to a new TouchGFX Version</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/getting-help">Getting Help</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/known-issues">Known Issues</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/changelog">Changelog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/3rd-party-components-in-touchgfx">3rd Party Components in TouchGFX</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/cookie-policy">Cookie Policy</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-01">Tutorial 1: Trying Out the Examples</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-02">Tutorial 2: Creating Your Own Application</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-03">Tutorial 3: Applications with Multiple Screens</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-04">Tutorial 4: Creating a Scroll Wheel with Custom Behavior</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-05">Tutorial 5: Creating Custom Triggers and Actions</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Framebuffer Strategies</h1></header><div class="markdown"><p>This section shows how to configure the <a href="/docs/development/touchgfx-hal-development/touchgfx-generator">TouchGFX Generator</a> to generate a TouchGFX HAL that uses one of the following Frame Buffer strategies:</p><ul><li>Single</li><li>Double</li><li>Partial</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="single-frame-buffer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#single-frame-buffer" title="Direct link to heading">#</a>Single Frame Buffer</h2><p>Choosing <em>Single Buffer</em> as the buffering strategy developers are able to let the compiler allocate memory for the framebuffer in internal RAM but can also choose a specific location for the buffer.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="by-allocation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#by-allocation" title="Direct link to heading">#</a>By Allocation</h3><p>When choosing <em>By Allocation</em> TouchGFX Generator will allocate an array based on the dimensions and bitdepth of the application.</p><div class="figure noshadow"><a href="/img/development/touchgfx-hal-development/scenarios/framebuffer-single-alloc.png" target="_blank"><img width="400" src="/img/development/touchgfx-hal-development/scenarios/framebuffer-single-alloc.png"></a><p>Single framebuffer, by allocation</p></div><p>Code is generated to configure the HAL to use this array as the framebuffer. </p><div class="code-header"><div><h5>TouchGFXGeneratedHAL.cpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">namespace</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Use the section &quot;TouchGFX_Framebuffer&quot; in the linker script</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// to specify the placement of the buffer</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">LOCATION_PRAGMA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;TouchGFX_Framebuffer&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> frameBuf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">480</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">272</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">LOCATION_ATTRIBUTE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;TouchGFX_Framebuffer&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> TouchGFXGeneratedHAL</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">initialize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    HAL</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">initialize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">setFrameBufferStartAddresses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">frameBuf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="by-address"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#by-address" title="Direct link to heading">#</a>By Address</h3><p>When choosing <em>By Address</em> for the location of the framebuffer TouchGFX Generator will use the  specified Start Addresses during HAL initialization.</p><div class="figure noshadow"><a href="/img/development/touchgfx-hal-development/scenarios/framebuffer-single-addr.png" target="_blank"><img width="400" src="/img/development/touchgfx-hal-development/scenarios/framebuffer-single-addr.png"></a><p>Single framebuffer, by address</p></div><div class="code-header"><div><h5>TouchGFXGeneratedHAL.cpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> TouchGFXGeneratedHAL</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">initialize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    HAL</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">initialize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">setFrameBufferStartAddresses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token number" style="color:rgb(247, 140, 108)">0xC0000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="double-frame-buffer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#double-frame-buffer" title="Direct link to heading">#</a>Double Frame Buffer</h2><p>In a double frame buffer configuration, code to swap farmebuffers will be generated in the HAL by TouchGFX Generator depending on the selected Framebuffer strategy and display interface. This memory interface to frame buffer location is used by the TouchGFX Engine during the main event loop.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="by-address-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#by-address-1" title="Direct link to heading">#</a>By Address</h3><p>When choosing <em>By Address</em> TouchGFX Generator will use the two specified Start Addresses during HAL initialization.</p><div class="figure noshadow"><a href="/img/development/touchgfx-hal-development/scenarios/framebuffer-double.png" target="_blank"><img width="400" src="/img/development/touchgfx-hal-development/scenarios/framebuffer-double.png"></a><p>Double framebuffer, by address</p></div><div class="code-header"><div><h5>TouchGFXGeneratedHAL.cpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> TouchGFXGeneratedHAL</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">initialize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    HAL</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">initialize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">setFrameBufferStartAddresses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token number" style="color:rgb(247, 140, 108)">0xC0000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token number" style="color:rgb(247, 140, 108)">0xC003FC00</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><div class="highlight highlight-tip"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></div>Tip</h5></div><div class="highlight-content">When using Parallel RGB (LTDC) as display interface, the start address will be inherited from the LTDC Layer settings.</div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="by-allocation-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#by-allocation-1" title="Direct link to heading">#</a>By Allocation</h3><p>When choosing <em>By Allocation</em> TouchGFX Generator will allocate an array based on the dimensions and bitdepth of the application, exactly as with a Single Frame Buffer, only twice the size.</p><div class="figure noshadow"><a href="/img/development/touchgfx-hal-development/scenarios/framebuffer-double-alloc.png" target="_blank"><img width="400" src="/img/development/touchgfx-hal-development/scenarios/framebuffer-double-alloc.png"></a><p>Single framebuffer, by allocation</p></div><div class="code-header"><div><h5>TouchGFXGeneratedHAL.cpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">namespace</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Use the section &quot;TouchGFX_Framebuffer&quot; in the linker to specify the placement of the buffer</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">LOCATION_PRAGMA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;TouchGFX_Framebuffer&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> frameBuf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">480</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">272</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">LOCATION_ATTRIBUTE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;TouchGFX_Framebuffer&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> TouchGFXGeneratedHAL</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">initialize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    HAL</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">initialize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">setFrameBufferStartAddresses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">frameBuf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">frameBuf </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">frameBuf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="partial-frame-buffer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#partial-frame-buffer" title="Direct link to heading">#</a>Partial Frame Buffer</h2><p>Selecting the <em>Partial Buffer</em> strategy allows developers to choose a number of blocks and a size for each of these to be used as frame buffers. This strategy uses what TouchGFX calls a <em>Frame Buffer Allocator</em> and is different from supplying either a pointer to external memory where the frame buffer is located, or allocating a fixed sized array in internal memory.</p><p>See the article on <a href="/docs/basic-concepts/framebuffer">Framebuffer</a> for a general overview of the concept of frame buffers.</p><div class="highlight highlight-tip"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></div>Tip</h5></div><div class="highlight-content">Usually, STM32G0 does not have enough internal RAM to fit framebuffer. &quot;Partial Buffer&quot; would be a perfect match for a low cost solution using this MCU.</div></div><div class="figure noshadow"><a href="/img/development/touchgfx-hal-development/scenarios/generator-partial-fb.png" target="_blank"><img width="400" src="/img/development/touchgfx-hal-development/scenarios/generator-partial-fb.png"></a><p>Partial framebuffer</p></div><p>Since a partial buffering strategy is typically only used with low cost MCU with no TFT controller and little internal RAM the Partial Buffer Strategy expects the developer to implement the transfer of the contents of the framebuffer to the display. See <a href="/docs/development/touchgfx-hal-development/scenarios/scenarios-fmc">FMC/SPI Scenario</a> for how to transmit pixels to e.g. a serial display on MCUs with no TFT Controller.</p><p>In order to synchronize with TouchGFX when using the Partial Framebuffer strategy developers are required to provide implementations for the following two functions. The code displayed below is generated by CubeMX inside <code>TouchGFX/target/generated/TouchGFXGeneratedHAL.cpp</code> and defines the interface from developer to the TouchGFX Engine.</p><div class="code-header"><div><h5>TouchGFXGeneratedHAL.cpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* ******************************************************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">* Functions required by Partial Frame Buffer Strategy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">* ******************************************************</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*  *  uint8_t isTransmittingData() must return whether or not data is currently being transmitted, over e.g. SPI.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*  *  void transmitFrameBufferBlock(uint8_t* pixels, uint16_t x, uint16_t y, uint16_t w, uint16_t h) will be called</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*       when the framework wants to send a block. The user must then transfer</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*       the data represented by the arguments.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*  A user must call touchgfx::startNewTransfer(); once transmitFrameBufferBlock() has succesfully sent a block.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*  E.g. if using DMA to transfer the block, this could be called in the &quot;Transfer Completed&quot; interrupt handler.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">*/</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">extern</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;C&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">transmitFrameBufferBlock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">uint8_t</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> pixels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">uint16_t</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">uint16_t</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">uint16_t</span><span class="token plain"> w</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">uint16_t</span><span class="token plain"> h</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">extern</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;C&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">uint8_t</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">isTransmittingData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>The following function is also generated by CubeMX inside the read-only <code>TouchGFXGeneratedHAL</code> class inside <code>TouchGFX/target/generated/TouchGFXGeneratedHAL.cpp</code>. </p><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content">This flushFrameBuffer() function is generally used for MCUs with no TFT Controller. In the case of Partial Frame Buffers the TouchGFX Generator can generate a definition for this method specifically for that frame buffer strategy.</div></div><div class="code-header"><div><h5>TouchGFXGeneratedHAL.cpp</h5></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-cpp codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> TouchGFXGeneratedHAL</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">flushFrameBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> touchgfx</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">Rect</span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain"> rect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    HAL</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">flushFrameBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">rect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Once flushFrameBuffer() is called by the framework a block is already for transfer</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Mark it ready for transfer and transmit it if user defined method </span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// isTransmittingData() does not return false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// If data is not being transmitted, transfer the data with user defined method</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// transmitFrameBufferBlock().</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    frameBufferAllocator</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token function" style="color:rgb(130, 170, 255)">markBlockReadyForTransfer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token function" style="color:rgb(130, 170, 255)">isTransmittingData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        touchgfx</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">Rect r</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">uint8_t</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> pixels </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> frameBufferAllocator</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token function" style="color:rgb(130, 170, 255)">getBlockForTransfer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">transmitFrameBufferBlock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">uint8_t</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">pixels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">width</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">height</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/development/touchgfx-hal-development/scenarios/scenarios-fmc"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« FMC and SPI</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/development/board-bring-up/example-gpio"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">External events as triggers »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#single-frame-buffer" class="contents__link">Single Frame Buffer</a><ul><li><a href="#by-allocation" class="contents__link">By Allocation</a></li><li><a href="#by-address" class="contents__link">By Address</a></li></ul></li><li><a href="#double-frame-buffer" class="contents__link">Double Frame Buffer</a><ul><li><a href="#by-address-1" class="contents__link">By Address</a></li><li><a href="#by-allocation-1" class="contents__link">By Allocation</a></li></ul></li><li><a href="#partial-frame-buffer" class="contents__link">Partial Frame Buffer</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div>All rights reserved © 2020 STMicroelectronics | <a href="https://www.st.com/content/st_com/en/common/terms-of-use.html">Terms of use</a> | <a href="https://www.st.com/content/st_com/en/common/privacy-policy.html">Privacy Policy</a> | <a href="/docs/miscellaneous/cookie-policy">Cookie Policy</a> | <a href="https://app-de.onetrust.com/app/#/webform/2b87200d-4023-4588-9df7-ab0cdea1a67e">Exercise your rights</a></div></div></div></footer>
</div>

<script src="/styles.e9d81739.js"></script>

<script src="/runtime~main.5480e1e9.js"></script>

<script src="/main.2f00fd5e.js"></script>

<script src="/common.a01f277a.js"></script>

<script src="/2.7ea106c9.js"></script>

<script src="/3.f46da482.js"></script>

<script src="/1be78505.e5419cbd.js"></script>

<script src="/20ac7829.ab0d8bfc.js"></script>

<script src="/17896441.9293b320.js"></script>

<script src="/47bb034d.6d3187a1.js"></script>


</body>
</html>