<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">Tutorial 2: Creating your own application</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="TouchGFX Documentation · The knowledge base for TouchGFX"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="import Figure from &#x27;@site/components/Figure&#x27;;"><meta data-react-helmet="true" property="og:description" content="import Figure from &#x27;@site/components/Figure&#x27;;"><meta data-react-helmet="true" property="og:url" content="https://touchgfx.github.io/docs/Tutorials/Tutorial_02">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png">


<link rel="stylesheet" href="/styles.2c5966b4.css">

</head>
<body>

<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo_help_center.png" alt="My Site Logo"></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/Introduction/WhatIsTouchGFX">Docs</a><a class="navbar__item navbar__link" target="_blank" href="/api/">API</a><div class="navbar__search"><span role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo_help_center.png" alt="My Site Logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Introduction/WhatIsTouchGFX">Docs</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" href="/api/">API</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Introduction/WhatIsTouchGFX">What is TouchGFX</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Introduction/GettingStarted">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Introduction/Installation">Installation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Basic Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/EmbeddedGraphics">Embedded Graphics Primer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/GraphicsEngine">Graphics Engine</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/EngineArchitecture">Engine Architecture</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/Framebuffer">Framebuffer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/HardwareComponents">Hardware Components</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/Performance">Performance</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/MemoryUsage">Memory Usage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/Rendering">Rendering</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/AlphaBlending">Alpha Blending</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/HardwareAcceleration">Hardware Acceleration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/TouchGFXSoftwareLayers">TouchGFX Software Layers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/SoftwareArchitectureMVP">Software Architecture - MVP</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/DevelopmentIntroduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hardware Selection</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareSelectionIntroduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hardware Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/HardwareSelectionMCU">MCU</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/HardwareSelectionDisplay">Display</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/HardwareSelectionExternalFlash">External Flash</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/HardwareSelectionExternalRAM">External RAM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/HardwareSelectionBus">Bus</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/FindingTheRightHardware">Finding the Right Hardware</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareSelectionScenarios">Scenarios</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Board Bring Up</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/BoardBringUp/BoardIntroduction">Introduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">TouchGFX HAL Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/TouchGFXHALDevelopment/TouchGFXHALDevelopmentIntroduction">Introduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UI Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIDevelopmentIntroduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Working with TouchGFX</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/WorkingWithTouchGFX/CodeStructure">Code Structure</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/WorkingWithTouchGFX/CreatingANewApplication">Creating a new Application</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Designer User Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/DesignerUserGuide/StartupWindow">Startup Window</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/DesignerUserGuide/MainWindow">Main Window</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/DesignerUserGuide/CanvasView">Canvas View</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">TouchGFX Engine Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/TouchGFXEngineFeatures/CanvasWidgets">Canvas Widgets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/TouchGFXEngineFeatures/CustomWidgets">Custom Widgets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/TouchGFXEngineFeatures/BackendCommunication">Backend Communication</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UI Components</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Buttons</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/Button">Button</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/ButtonWithLabel">ButtonWithLabel</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/ButtonWithIcon">ButtonWithIcon</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/ToggleButton">ToggleButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/RadioButton">RadioButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/RepeatButton">RepeatButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/FlexButton">FlexButton</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Images</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/Image">Image</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/ScalableImage">ScalableImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/TiledImage">TiledImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/AnimatedImage">AnimatedImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/TextureMapper">TextureMapper</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Containers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/Container">Container</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ScrollableContainer">ScrollableContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/SwipeContainer">SwipeContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ListLayout">ListLayout</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ModalWindow">ModalWindow</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ScrollList">ScrollList</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ScrollWheel">ScrollWheel</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ProgressIndicators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/BoxProgress">BoxProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/ImageProgress">ImageProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/TextProgress">TextProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/LineProgress">LineProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/CircleProgress">CircleProgress</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Shapes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/Box">Box</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/BoxWithBorder">BoxWithBorder</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/Line">Line</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/Circle">Circle</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/Shape">Shape</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Miscellaneous</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Miscellaneous/Slider">Slider</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Miscellaneous/TextArea">TextArea</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Miscellaneous/AnalogClock">AnalogClock</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Miscellaneous/DigitalClock">DigitalClock</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/GeneralUIComponentPerformance">General UI Component Performance</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Scenarios</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/Scenarios/LoadingImages">Loading Images at Runtime</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/Scenarios/LoweringMemoryUsage">Lowering Memory Usage with Partial Framebuffer</a></li></ul></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Tutorials/Tutorial_01">Tutorial 1: Trying out the examples</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/Tutorials/Tutorial_02">Tutorial 2: Creating your own application</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Tutorials/Tutorial_03">Tutorial 3: Applications with multiple screens</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Tutorials/Tutorial_04">Tutorial 4: Creating a Scroll Wheel with custom behavior</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Tutorial 2: Creating your own application</h1></header><div class="markdown"><p>Follow this tutorial to learn more about the basics of TouchGFX. You will learn how to add images to your application and use buttons. You will also see how to use texts and calculated numbers. In the last steps you will write code to enhance the look of the UI you have created with the TouchGFX Designer. This tutorial assumes no knowledge of TouchGFX, but we assume a little experience with programming.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="step-1-setting-a-background-image"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-1-setting-a-background-image" title="Direct link to heading">#</a>Step 1: Setting a background Image</h2><p>In this first step you will see how to insert a PNG image as a background. But first we will create a new project.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="starting-a-new-project"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#starting-a-new-project" title="Direct link to heading">#</a>Starting a new project</h3><p>Start a new project in TouchGFX Designer. We will call the project MyApplication1. The project is based on the &quot;STM32F746G Discovery Kit&quot; Application Template and the &quot;Blank UI&quot; UI template. </p><p>If you have a different STM32 Evaluation Kit, you can check if it is supported in this article (###TODO Link) or just go ahead and look in the list presented in the Designer when you are changing the Application Template. If you do not have a supported board you can select the &quot;Simulator&quot; Application Template and just run the application on your computer. </p><p>Please be aware that this tutorial runs on a display with a resolution of 480x272. If you select an Application Template with a different resolution, the graphics will not fit the screen, but you should be able to complete the tutorial anyway.</p><p><img src="/img/Tutorials/tutorial02/new_proj.png" alt="Creating the new project using the STM32F746 Application Template and Blank UI" title="Creating the new project using the STM32F746 Application Template and Blank UI"> </p><p>Now that you have a newly created blank project let us start modifying it.</p><p>A TouchGFX application consists of a number of Screens. The Screens contains a number of Widgets that make up the user interface. A Screen covers the whole display, so only one Screen is shown to the user at a time.</p><p>The first thing to do is to change the name of the initial Screen to Main as illustrated below:</p><p><img src="/img/Tutorials/tutorial02/change_name.png" alt="Changing the name of the Screen" title="Changing the name of the Screen"> </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="inserting-a-background"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#inserting-a-background" title="Direct link to heading">#</a>Inserting a background</h3><p>It is normally a good thing to cover the complete background of a Screen with one or more widgets. This can be e.g. a Box or an Image. In this application we will use an Image.</p><p>Before we can use an image in the TouchGFX Designer we need to import the file. TouchGFX supports BMP and PNG images. PNG files are preferred over BMP files as they are smaller and supports transparent pixels.</p><p>The images we will use in this tutorial can be downloaded from this <a href="/download/Tutorials/tutorial02/touchgfx_tutorial2.zip">link</a>. Unzip the file to a directory on your disk.</p><p>We want to use the file named &quot;background.png&quot; as our background. To import that file, select the Images tab and click the blue plus icon. Navigate to the unzipped folder and select the &quot;background.png&quot; file. Press open to import it. You can also &quot;drag &amp; drop&quot; images onto the image tab to import them to your project.</p><p>Be aware that images imported to your project will be converted and compiled into your project and thus take up flash space. So only import the images that you need.</p><p><img src="/img/Tutorials/tutorial02/image_import.png" alt="The image background.png is imported" title="The image background.png is imported"> </p><p>We are now ready to use the image in our application. To do that we need an Image widget. Select the Widgets tab in the Canvas tab, find the Image Widget in the list of widgets, click it to insert an Image Widget on the Screen. It is a good principle to change the name to something meaningful, like backgroundImage.</p><p><img src="/img/Tutorials/tutorial02/insert_widget.png" alt="Inserting an Image Widget" title="Inserting an Image Widget"> </p><p>After inserting a Widget we normally need to configure some of its properties like Position or Color. The properties of the selected Widget are shown to the right in the TouchGFX Designer. In this case we are satisfied with the position in 0,0, but we want to change the Image property to select the &quot;background.png&quot; file previously imported. Select the &quot;background.png&quot; in the Image drop-down list.</p><p><img src="/img/Tutorials/tutorial02/selecting_image_as_background.png" alt="Selecting the imported image file as background" title="Selecting the imported image file as background"> </p><p>We have now created a simple application with one Screen consisting of only a background image covering the whole user interface.</p><p>Before moving on try to press the &quot;Run Simulator&quot; button to check that the project compiles and runs. You can still not interact with the application since we have not yet added any active widgets.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="step-2-adding-buttons"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-2-adding-buttons" title="Direct link to heading">#</a>Step 2: Adding Buttons</h2><p>In this step owe will add two buttons to the application and use different PNG files to give them a customized look.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="adding-the-buttons"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#adding-the-buttons" title="Direct link to heading">#</a>Adding the Buttons</h3><p>Add a button to the Screen by clicking the Button Widget in the Widgets tab. Move the new Widget by dragging it with the mouse. Position the button at x=40, y=60. Name the new Widget &quot;buttonUp&quot;. Add another Button at position x=40, y=150. Name this Widget &quot;ButtonDown&quot;.</p><p>The project now looks like this:</p><p><img src="/img/Tutorials/tutorial02/adding_buttons.png" alt="Adding two Buttons" title="Adding two Buttons"> </p><p>You can use the small up/down button on the X and Y properties to fine-tune the position of the Widgets. You can also select the button widget (by clicking it on the canvas) and adjust the position using the arrow keys on your keyboard.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="changing-the-look"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#changing-the-look" title="Direct link to heading">#</a>Changing the look</h3><p>We will now change the look of the Buttons. A Button is made up of two images. One image is shown when the button is pressed, and another images is shown when the button is not pressed (released). Most widgets come with a set of predefined styles, which is basically a set of values for certain properties of the widget describing a particular look. These styles are good for fast prototyping, but most often you will replace them when creating a real application.</p><p>Go to the Images tab as in previous step and click the &quot;plus&quot; icon to import some images. This time import the images: &quot;button_down_pressed.png&quot;, &quot;button_down_released.png&quot;, &quot;button_up_pressed.png&quot;, and &quot;button_up_released.png&quot;.</p><p>Now select the &quot;buttonUp&quot; button. For that button, start by selecting &quot;No-Style&quot; for the Style property. Select &quot;button_up_released.png&quot; for the Release Image property. Select &quot;button_up_pressed.png&quot; for Pressed Image.</p><p>You can immediately see the look of the button on the canvas in the TouchGFX Designer.</p><p><img src="/img/Tutorials/tutorial02/bitmap_for_button.png" alt="Setting bitmaps for Buttons" title="Setting bitmaps for Buttons"> </p><p><img src="/img/Tutorials/tutorial02/bitmap_for_button_2.png" alt="Setting bitmaps for Buttons" title="Setting bitmaps for Buttons"> </p><p>For &quot;buttonDown&quot; select again &quot;No-Style&quot; for Style, &quot;button_down_released.png&quot; for Release Image, &quot;button_down_pressed.png&quot; for Pressed Image.</p><p>You have now finished setting up the Buttons. Click &quot;Run Simulator&quot; to try your application.</p><p>Try both buttons to verify that the Buttons are configured correct.</p><p><img src="/img/Tutorials/tutorial02/running_the_simulator.png" alt="Running the Simulator" title="Running the Simulator"> </p><blockquote><p>Most widgets in TouchGFX uses images to define their size, meaning that they cannot directly be resized. This is done for performance reasons (###TODO insert link). If you want to change the size of such widgets, like for example the buttons in this tutorial, you will do this by creating a new set of images for the buttons and use them as Released and Pressed images instead.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="step-3-adding-text"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-3-adding-text" title="Direct link to heading">#</a>Step 3: Adding Text</h2><p>In this step we will add a large TextArea Widget to the application.</p><p>All text is shown using a TextArea Widget, but before we add a TextArea to the application, we will add another Image to give the text a better background.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="text-background"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#text-background" title="Direct link to heading">#</a>Text Background</h3><p>Import another image file, &quot;counter_box.png&quot;. Insert a new Image Widget, name it &quot;textBackground&quot;, and position it at x=250, y=59. Set the property Style to &quot;No-Style&quot;, and Image to &quot;counter_box&quot;.</p><p><img src="/img/Tutorials/tutorial02/add_background_for_text.png" alt="Added background for text" title="Added background for text"> </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="adding-the-text"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#adding-the-text" title="Direct link to heading">#</a>Adding the text</h3><p>We are now ready to add a TextArea Widget. Click the Text Area icon in the Widgets tab. Rename the Widget to &quot;textCounter&quot; and move the Widget to position x=250, y=90.
We want the Widget to show a large text, so un-check the &quot;auto-size&quot; property, and set the size to a fixed width=152, and height=90.</p><p><img src="/img/Tutorials/tutorial02/add_textarea.png" alt="Added a TextArea" title="Added a TextArea"> </p><p>The default color of a TextArea Widget is black, which is rather dark on our background. Select the Color property of &quot;textCounter&quot;, and change the color to white.</p><p><img src="/img/Tutorials/tutorial02/text_color.png" alt="Changing text color" title="Changing text color"> </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="changing-the-text-typography"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#changing-the-text-typography" title="Direct link to heading">#</a>Changing the Text Typography</h3><p>We want the text to be bigger. The way to do that is to change the typography used for the text. A typography defines the font, e.g. Verdana, the size, and the alignment, left, right, or center, for a text.</p><p>Select the Texts tab in the top of the TouchGFX Designer, click Typographies, and update the size of the Default typography to 80.</p><p><img src="/img/Tutorials/tutorial02/typography_size.png" alt="Changing text size" title="Changing text size"> </p><p>Going back to the Screen (by clicking the &quot;Canvas&quot; tab in the top), we see that the text is much bigger now. In fact we cannot read the complete text &quot;New Text&quot;. Click the centered icon under the &quot;Alignment&quot; property to get the text centered.</p><p><img src="/img/Tutorials/tutorial02/text_alignment.png" alt="Changing text alignment" title="Changing text alignment"> </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="using-a-wildcard-text"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#using-a-wildcard-text" title="Direct link to heading">#</a>Using a wildcard text</h3><p>We want the TextArea to show a number that we can change with the buttons. To do that, we must change the text to include a &quot;wildcard&quot;. A wildcard is a marker, &quot;&lt;d&gt;&quot; in the text that can be substituted with something else at runtime. We just want to show a number, so we will change the text to just &quot;&lt;d&gt;&quot;. In other projects you can combine the dynamic parts with a fixed text, e.g. &quot;Temperature: &lt;temp&gt; °C&quot;.</p><blockquote><p>The text inside the &lt;...&gt; wildcard brackets are optional. You can use them to communicate to implementers or translators what kind of information will be inserted in the wildcard or you can leave it empty. </p></blockquote><p><img src="/img/Tutorials/tutorial02/wildcard_text.png" alt="Configure the wildcard text" title="Configure the wildcard text"> </p><p>Click &quot;Run Simulator&quot; to try your application.</p><p><img src="/img/Tutorials/tutorial02/running_the_simulator_2.png" alt="Running the Simulator" title="Running the Simulator"> </p><p>This concludes step 3 of the tutorial. Here we learned how to insert TextArea Widgets in your user interface and how to change the size of the text by changing the typography. </p><blockquote><p>There is a lot more to learn about how to use text and fonts in TouchGFX. If you want to know more read the complete description <a href="">here</a> ###TODO insert link</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="step-4-adding-code"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-4-adding-code" title="Direct link to heading">#</a>Step 4: Adding code</h2><p>With the TouchGFX Designer it is easy to link actions to a Button through an Interaction. An Interaction links a trigger, e.g. a button press, to an action, e.g. running code or moving an element.</p><p>Select the Interactions tab in the upper right corner and click the &quot;Add Interaction&quot; button to create a new Interaction</p><p><img src="/img/Tutorials/tutorial02/add_interactions.png" alt="Adding interactions" title="Adding interactions"> </p><p>We will create two Interactions. One for each of the Buttons. We will setup both Interactions to call a C++ method on the current Screen.</p><p>Change the &quot;Trigger&quot; field to &quot;Button is clicked&quot;. Set the &quot;Choose clicked source&quot; to &quot;buttonUp&quot;. Change the &quot;Action&quot; field to &quot;Call new virtual function&quot;. For &quot;Function Name&quot; type &quot;buttonUpClicked&quot;. You should also give the Interaction an informative name, so that you can recognize it later on.</p><p><img src="/img/Tutorials/tutorial02/configure_interaction.png" alt="Configure the Button interaction" title="Configure the Button interaction"> </p><p>Create a similar Interaction with &quot;buttonDown&quot; as &quot;clicked source&quot;.</p><p>If you either click the &quot;Generate Code&quot; button or &quot;Run Simulator&quot; button, the Designer will update the generated code with the information you entered in the interactions just created. This means that it will create two new virtual functions in the view base class for this screen.</p><p>Let us investigate this more and see how we can have our own code executed. Click the &quot;Browse Code&quot; button in the bottom bar. This will give you a File Explorer placed in your application folder. Navigate to the folder</p><p><code>MyApplication1\generated\gui_generated\include\gui_generated\main_screen\</code></p><p>and open the file MainViewBase.hpp. If you like you can also open one of the project files and find the file here:</p><p>(###TODO update with correct project files for F746)</p><table><thead><tr><th>IDE</th><th>Path to project file</th></tr></thead><tbody><tr><td>Visual Studio</td><td>simulator/msvs/Application.sln</td></tr><tr><td>CubeIDE</td><td>???</td></tr><tr><td>IAR Embedded Workbench 8</td><td>target/IAR8.x/application.eww</td></tr><tr><td>KEIL uVision v5</td><td>target/Keil/application.uvprojx</td></tr></tbody></table><blockquote><p>Note that not all project files are present as default. To change toolchain you need to use the CubeMX tool. Read more on this here (###TODO insert link).</p></blockquote><p>The new virtual methods are found in the public part of the MainViewBase class. The generated methods have empty implementations. The intention is that the programmer implements these methods in the subclass.</p><p><img src="/img/Tutorials/tutorial02/empty_virtual_methods.png" alt="Empty virtual methods are generated in the superclass" title="Empty virtual methods are generated in the superclass"> </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="implementing-the-virtual-methods"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#implementing-the-virtual-methods" title="Direct link to heading">#</a>Implementing the virtual methods</h3><p>The remaining task is now to implement these two methods to change the counter value when the user presses the buttons. To do that, declare the methods again in the &quot;MainView&quot; class. This class can be found in</p><p><code>MyApplication1\gui\include\gui\main_screen\MainView.hpp</code></p><p>Open this file and insert the two function declarations in the class:</p><p><img src="/img/Tutorials/tutorial02/insert_functions.png" alt="Inserting function declarations" title="Inserting function declarations"> </p><p>The next task is to implement the two methods by adding the implementation in the .cpp-file. This file is located in</p><p><code>MyApplication1\gui\src\main_screen\MainView.cpp</code></p><p>In the implementation below we have added calls to &quot;touchgfx_printf&quot;. This function is useful to print out lines of text when running the simulator. When running on target, the line will have no effect.</p><p><img src="/img/Tutorials/tutorial02/add_impl.png" alt="Adding first implementation" title="Adding first implementation"> </p><p>Click &quot;Run Simulator&quot; in TouchGFX Designer again to run the new code. Click the Buttons a couple of times to see that the Interactions and methods are working as expected:</p><p><img src="/img/Tutorials/tutorial02/running_the_simulator_3.png" alt="Running the Simulator" title="Running the Simulator"> </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="updating-the-counter-value"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#updating-the-counter-value" title="Direct link to heading">#</a>Updating the counter value</h3><p>The last task is to write C++ code in the new methods to update the counter value when the user presses the button. To do that we first add a new integer variable, &quot;counter&quot;, in the MainView class:</p><p><img src="/img/Tutorials/tutorial02/add_integer_counter.png" alt="Adding an integer counter variable" title="Adding an integer counter variable"> </p><p>In the &quot;buttonUpClicked&quot; method we increment the counter value. The new value is then converted to a string and copied to the 10 characters buffer we configured for the text in the previous step:</p><p><img src="/img/Tutorials/tutorial02/changing_textcounter.png" alt="Changing the textCounter Widget from C++" title="Changing the textCounter Widget from C++"> </p><p>(###TODO insert and mention code that initializes the counter to 0.)</p><p>Note that we call &quot;invalidate()&quot; on the textCounter widget after updating it. This ensures that the TextArea is redrawn after the counter value has been updated.</p><p>We need one more thing before the application is finished. TouchGFX only included the characters needed from the used fonts, so we need to tell TouchGFX Designer to include the characters 0-9 in the Default typography. To do that, go back to TouchGFX Designer and click the &quot;Texts&quot; tab, then the &quot;Typographies&quot; tab. In the &quot;Wildcard Ranges&quot; column for the Default typography, add the range &quot;0-9&quot;.</p><p><img src="/img/Tutorials/tutorial02/set_wildcard_range.png" alt="Setting the Wildcard Range for the Default typography" title="Setting the Wildcard Range for the Default typography"> </p><p>Now click &quot;Run Simulator&quot; again and click the up button a few times:</p><p><img src="/img/Tutorials/tutorial02/running_the_simulator_4.png" alt="Running the Simulator" title="Running the Simulator"> </p><p>As the program is now, it will not handle negative numbers correctly. This can be fixed, either by inserting a guard in the buttonDownClicked() function to ensure the counter does not go below 0 or by adding the character &quot;-&quot; to the used typography. This can be accomplished simply by adding a minus (&quot;-&quot;) in the Wildcard Characters cell for the Default typography.</p><p>This step concludes tutorial 2.</p><p>(###TODO insert links)</p><p>Read more about texts here: Using texts and fonts.</p><p>Read more about TouchGFX application development here: Basic Application Development.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Tutorials/Tutorial_01"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« Tutorial 1: Trying out the examples</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/Tutorials/Tutorial_03"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Tutorial 3: Applications with multiple screens »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#step-1-setting-a-background-image" class="contents__link">Step 1: Setting a background Image</a><ul><li><a href="#starting-a-new-project" class="contents__link">Starting a new project</a></li><li><a href="#inserting-a-background" class="contents__link">Inserting a background</a></li></ul></li><li><a href="#step-2-adding-buttons" class="contents__link">Step 2: Adding Buttons</a><ul><li><a href="#adding-the-buttons" class="contents__link">Adding the Buttons</a></li><li><a href="#changing-the-look" class="contents__link">Changing the look</a></li></ul></li><li><a href="#step-3-adding-text" class="contents__link">Step 3: Adding Text</a><ul><li><a href="#text-background" class="contents__link">Text Background</a></li><li><a href="#adding-the-text" class="contents__link">Adding the text</a></li><li><a href="#changing-the-text-typography" class="contents__link">Changing the Text Typography</a></li><li><a href="#using-a-wildcard-text" class="contents__link">Using a wildcard text</a></li></ul></li><li><a href="#step-4-adding-code" class="contents__link">Step 4: Adding code</a><ul><li><a href="#implementing-the-virtual-methods" class="contents__link">Implementing the virtual methods</a></li><li><a href="#updating-the-counter-value" class="contents__link">Updating the counter value</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/Introduction/WhatIsTouchGFX">Docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">API</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="api/">API</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx">Community</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://www.touchgfx.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1Wg7"><img class="footer__logo" alt="TouchGFX Logo" src="/img/logo.png"></a></div>Copyright © 2020 ST Microelectronics</div></div></footer>
</div>

<script src="/styles.e42932e0.js"></script>

<script src="/runtime~main.8be70a3b.js"></script>

<script src="/main.534aeab7.js"></script>

<script src="/1.2e184c36.js"></script>

<script src="/84.b0632685.js"></script>

<script src="/20ac7829.9361bca0.js"></script>

<script src="/17896441.6438262b.js"></script>

<script src="/4f70db27.6cb9a190.js"></script>


</body>
</html>