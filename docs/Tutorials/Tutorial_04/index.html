<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">Tutorial 4: Creating a Scroll Wheel with custom behavior</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="TouchGFX Documentation · The knowledge base for TouchGFX"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="import Figure from &#x27;@site/components/Figure&#x27;;"><meta data-react-helmet="true" property="og:description" content="import Figure from &#x27;@site/components/Figure&#x27;;"><meta data-react-helmet="true" property="og:url" content="https://touchgfx.github.io/docs/Tutorials/Tutorial_04">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png">


<link rel="stylesheet" href="/styles.c7d2d94c.css">

</head>
<body>

<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo_help_center.png" alt="My Site Logo"></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/Introduction/WhatIsTouchGFX">Docs</a><a class="navbar__item navbar__link" target="_blank" href="/api/">API</a><div class="navbar__search"><span role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo_help_center.png" alt="My Site Logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Introduction/WhatIsTouchGFX">Docs</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" href="/api/">API</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Introduction/WhatIsTouchGFX">What is TouchGFX</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Introduction/GettingStarted">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Introduction/Installation">Installation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Basic Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/EmbeddedGraphics">Embedded Graphics Primer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/GraphicsEngine">Graphics Engine</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/Framebuffer">Framebuffer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/HardwareComponents">Hardware Components</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/Performance">Performance</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/MemoryUsage">Memory Usage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/Rendering">Rendering</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/AlphaBlending">Alpha Blending</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/HardwareAcceleration">Hardware Acceleration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/TouchGFXSoftwareLayers">TouchGFX Software Layers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/SoftwareArchitectureMVP">Software Architecture - MVP</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/DevelopmentIntroduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hardware Selection</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareSelectionIntroduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hardware Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/HardwareSelectionMCU">MCU</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/HardwareSelectionDisplay">Display</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/HardwareSelectionExternalFlash">External Flash</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/HardwareSelectionExternalRAM">External RAM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/HardwareSelectionBus">Bus</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/FindingTheRightHardware">Finding the Right Hardware</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareSelectionScenarios">Scenarios</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Board Bring Up</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/BoardBringUp/BoardIntroduction">Introduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">TouchGFX HAL Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/TouchGFXHALDevelopment/TouchGFXHALDevelopmentIntroduction">Introduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UI Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIDevelopmentIntroduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Working with TouchGFX</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/WorkingWithTouchGFX/CodeStructure">Code Structure</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/WorkingWithTouchGFX/CreatingANewApplication">Creating a new Application</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Designer User Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/DesignerUserGuide/StartupWindow">Startup Window</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/DesignerUserGuide/MainWindow">Main Window</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">TouchGFX Engine Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/TouchGFXEngineFeatures/CanvasWidgets">Canvas Widgets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/TouchGFXEngineFeatures/CustomWidgets">Custom Widgets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/TouchGFXEngineFeatures/BackendCommunication">Backend Communication</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UI Components</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Buttons</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/Button">Button</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/ButtonWithLabel">ButtonWithLabel</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/ButtonWithIcon">ButtonWithIcon</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/ToggleButton">ToggleButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/RadioButton">RadioButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/RepeatButton">RepeatButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/FlexButton">FlexButton</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Images</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/Image">Image</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/ScalableImage">ScalableImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/TiledImage">TiledImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/AnimatedImage">AnimatedImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/TextureMapper">TextureMapper</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Containers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/Container">Container</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ScrollableContainer">ScrollableContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/SwipeContainer">SwipeContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ListLayout">ListLayout</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ModalWindow">ModalWindow</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ScrollList">ScrollList</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ScrollWheel">ScrollWheel</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ProgressIndicators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/BoxProgress">BoxProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/ImageProgress">ImageProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/TextProgress">TextProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/LineProgress">LineProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/CircleProgress">CircleProgress</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Shapes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/Box">Box</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/BoxWithBorder">BoxWithBorder</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/Line">Line</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/Circle">Circle</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/Shape">Shape</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Miscellaneous</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Miscellaneous/Slider">Slider</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Miscellaneous/TextArea">TextArea</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Miscellaneous/AnalogClock">AnalogClock</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Miscellaneous/DigitalClock">DigitalClock</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/GeneralUIComponentPerformance">General UI Component Performance</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Scenarios</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/Scenarios/LoadingImages">Loading Images at Runtime</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/Scenarios/LoweringMemoryUsage">Lowering Memory Usage with Partial Framebuffer</a></li></ul></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Tutorials/Tutorial_01">Tutorial 1: Trying out the examples</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Tutorials/Tutorial_02">Tutorial 2: Creating your own application</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Tutorials/Tutorial_03">Tutorial 3: Applications with multiple screens</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Tutorials/Tutorial_04">Tutorial 4: Creating a Scroll Wheel with custom behavior</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Tutorial 4: Creating a Scroll Wheel with custom behavior</h1></header><div class="markdown"><p>In this tutorial, you will learn how to create and configure the two widgets Custom Container and Scroll Wheel. A Custom Container is a widget that enables you to create a custom widget by combining multiple other widgets and add specific behavior for the widgets in the Custom Container. The Scroll Wheel is a widget used for creating a scrollable menu, consisting of multiple selectable items. The tutorial will also teach how user code can be created to change the behavior fo a widget.</p><p>More information about the Custom Container and Scroll Wheel can be found in the two articles, (###TODO Links - Containers and Custom Containers and Scroll Wheel).</p><p>The graphics for the tutorial can be downloaded from this <a href="/download/Tutorials/tutorial04/touchgfx_tutorial4.zip">link</a>. Unzip the file in the images folder under assets, which for the project used in this tutorial is MyApplication2\assets\images.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="step-1-creating-a-custom-container"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-1-creating-a-custom-container" title="Direct link to heading">#</a>Step 1: Creating a Custom Container</h2><p>Similar to step 1 in tutorial 2, start by creating a new project with the TouchGFX Designer. When the new project is ready, change from the screens tab in the TouchGFX Designer to the Custom Container.</p><p><img src="/img/Tutorials/tutorial04/selecting_CC.png" alt="Selecting the Custom Container menu" title="Selecting the Custom Container menu"> </p><p>The tab for creating a Custom Container is similar to the Screens tab and creating a new Custom Container is done in the same way as creating a new screen. After a Custom Container is created widgets, except Custom Container, can be added, along with edit the size and name of the Custom Container.</p><p>In the Custom Container tab, use the blue plus icon to create a new Custom Container and rename it &quot;MenuElement&quot;, change the width (W) to 390 and height (H) to 70.</p><p><img src="/img/Tutorials/tutorial04/creating_CC.png" alt="Creating a Custom Container and setting it properties" title="Creating a Custom Container and setting it properties"> </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="adding-widgets-to-the-custom-container"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#adding-widgets-to-the-custom-container" title="Direct link to heading">#</a>Adding widgets to the Custom Container</h3><p>With Custom Container created and its properties set, widgets can be added to the Custom Container. The Custom Container is going to consist of an image and a text area with a wildcard. The two widgets are inserted in the following way:</p><table><thead><tr><th>Widget</th><th>Properties</th></tr></thead><tbody><tr><td>Image</td><td><ul><li>Name: icon</li><li>Image: icon00.png</li><li>Location:<ul><li>X: 34</li><li>Y: 17</li></ul></li></ul></td></tr><tr><td>TextArea</td><td><ul><li>Name: text</li><li>Location:<ul><li>X: 93, Y: 23</li></ul></li><li>Text:<ul><li>Text: Menu Element &lt;value&gt;</li><li>Wildcard 1:<ul><li>Initial Value: 00</li><li>Buffer size: 3</li></ul></li><li>Typography: 20px</li><li>Alignment: Left</li></ul></li><li>Appearance:<ul><li>Color: #FFFFFFFF</li></ul></li></ul></td></tr></tbody></table><p><img src="/img/Tutorials/tutorial04/adding_content_cc.png" alt="Adding content to the Custom Container" title="Adding content to the Custom Container"> </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="adding-the-custom-container-to-a-screen"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#adding-the-custom-container-to-a-screen" title="Direct link to heading">#</a>Adding the Custom Container to a screen</h3><p>Going back to the Screens tab, it is now possible to select the &quot;MenuElement&quot; in the widget menu under Custom Container. Place a black box as background and add a couple of the created Custom Container on the canvas. </p><p><img src="/img/Tutorials/tutorial04/inserting_cc.png" alt="Inserting the Custom Container as a widget on a screen" title="Inserting the Custom Container as a widget on a screen"> </p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="step-2-creating-a-scroll-wheel"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-2-creating-a-scroll-wheel" title="Direct link to heading">#</a>Step 2: Creating a Scroll Wheel</h2><p>In this step of tutorial 4, we will create a Scroll Wheel by using the Custom Container, &quot;MenuElement&quot;, created in step 1. As described in step 1, the Scroll Wheel is used to create a scrollable menu containing multiple selectable items. The items in the wheel are dynamically updated when scrolling and when selecting an item, it is moved into focus.</p><p>Adding items to the Scroll Wheel is done by selecting a Custom Container to use as the &quot;Item Template&quot;. The concept of &quot;Item Template&quot; works by using the widgets in the Custom Container as the foundation for the items in the Scroll Wheel and use user code to update the widgets in the items at runtime.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="creating-the-scroll-wheel"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#creating-the-scroll-wheel" title="Direct link to heading">#</a>Creating the Scroll Wheel</h3><p>Before creating the Scroll Wheel, remove the Custom Containers on the screen, leaving only the black box as the background. Select the Scroll Wheel located in the widgets tab under section Containers. Create a Scroll Wheel and set the location properties to X = 208, Y = 45 and H = 390 and change the name to &quot;scrollWheel&quot;.</p><p><img src="/img/Tutorials/tutorial04/insertSW.png" alt="Inserting the Scroll Wheel and setting the name and location properties" title="Inserting the Scroll Wheel and setting the name and location properties"> </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="adding-items-to-the-scroll-wheel"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#adding-items-to-the-scroll-wheel" title="Direct link to heading">#</a>Adding Items to the Scroll Wheel</h3><p>Select &quot;MenuElement&quot; created in step 1 as the &quot;Item Template&quot;, which is done with the drop-down list under the Scroll Wheel property &quot;Item Template&quot;. The number of items in the Scroll Wheel is also set under &quot;Item Template&quot;. Set this to 20 items. Since the Scroll Wheel works by having a selected item in focus, setting where the selected item is positioned, is done by setting &quot;Selected Item Offset&quot; under the property &quot;List Apperance&quot;. We want the selected item to be in the middle of the Scroll Wheel and are therefore setting &quot;Selected Item Offset&quot; to 160.</p><p><img src="/img/Tutorials/tutorial04/add_cc_to_sw.png" alt="Adding the Custom Container to the Scroll Wheel and adjusting its properties" title="Adding the Custom Container to the Scroll Wheel and adjusting its properties"> </p><p>To highlight the area of the &quot;scrollWheel&quot;, the two pictures background.png, and overlay.png from the .zip file downloaded in step 1 are used and is added to the application as Image widgets. The two images is a background that highlights the area of &quot;scrollWheel&quot; and an overlay which hides the items in &quot;scrollWheel&quot; when the are moved to the edge of &quot;scrollWheel&quot;.</p><p>The image background.png are placed in X = 205 and Y = 45 and is placed behind &quot;scrollWheel&quot; so the items in &quot;scrollWheel&quot; is drawn op top of the background. The overlay.png is placed in X = 0 and Y = 0 on top of &quot;scrollWheel&quot; meaning that the items are drawn beneath overlay.png thereby hiding the items where overlay.png is not transparent.</p><p><img src="/img/Tutorials/tutorial04/graphics_added.png" alt="Graphics added to the screen with the Scroll Wheel" title="Graphics added to the screen with the Scroll Wheel"> </p><p>Since we only have adjusted the static properties for &quot;scrollWheel&quot;, logic has not been added to it. Running the application will, therefore, result in a scrollable menu consisting of 20 items that all show the same. In the next step, we will add the logic to the &quot;scrollWheel&quot; with user code which updates the items in the wheel at runtime.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="step-3-adding-user-code-to-scroll-wheel"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-3-adding-user-code-to-scroll-wheel" title="Direct link to heading">#</a>Step 3: Adding user code to Scroll Wheel</h2><p>With the Scroll Wheel, &quot;scrollWheel&quot;, created and configured in the TouchGFX Designer, this step will create the logic, via user code, that updates the items in &quot;scrollWheel&quot;, so they display different graphics based on the position of the item in the wheel. This step will, therefore, work with integrating designer generated code with user code. A more detailes description of integrating designer code with user code can be found (###TODO link to Designer generated code article).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="change-image-and-text-in-menuelement"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#change-image-and-text-in-menuelement" title="Direct link to heading">#</a>Change Image and Text in MenuElement</h3><p>Since the items in the Scroll Wheel are based on the Custom Container &quot;MenuElement&quot;, created in step 1, user code for changing the icon and updating the wildcard needs to be added to &quot;MenuElement&quot;. When a Custom Container is created in the TouchGFX Designer it generates a .hpp and .cpp file with the same name as the Custom Container which is where the user code should be integrated. The location of the files generated for &quot;MenuElement&quot; in the example application are:</p><p><code>MyApplication2\gui\include\gui\containersMenuElement.hpp</code></p><p><code>MyApplication2\gui\src\containers\MenuElement.cpp</code></p><p>Enabling the items in &quot;scrollWheel&quot; to change their text and icon is done by adding the function <code>setNumber(int no)</code> to &quot;MenuElement&quot;. The function uses the variable <code>no</code> to decide which icon the Image widget should show and change the Wildcard in the Text Area widget to the value of <code>no</code>.</p><p>The declaration and implementation of <code>setNumber(int no)</code> is done in the <code>MenuElement.hpp</code> which is shown below.</p><p><img src="/img/Tutorials/tutorial04/menuElement_hpp_code.png" alt="MenuElement.hpp with the setNumber(int no) function" title="MenuElement.hpp with the setNumber(int no) function"> </p><p>With the code added to update the content of the MenuElement, the next thing to do is to add code which updates the items in the Scroll Wheel.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="update-the-items-in-the-scroll-wheel"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#update-the-items-in-the-scroll-wheel" title="Direct link to heading">#</a>Update the Items in the Scroll Wheel</h3><p>When creating a Scroll Wheel, the TouchGFX Designer generates a virtual function which is called each time a new item in the Scroll Wheel becomes visible. Overriding this function in the user code enables the code to interact with the items in the Scroll Wheel.</p><p>The name of the function is the name of the Scroll Wheel appended with UpdatedItem. For the tutorial, the function is called <code>scrollWheelUpdateItem(MenuElement&amp; item, int16_t itemIndex)</code>.</p><p>The parameter <code>itemIndex</code> is an index value informing which item is currently being updated and <code>item</code> is a reference to an instance of MenuElement which is currently visible in the Scroll Wheel. With <code>itemIndex</code> informing which item is being updated, <code>setNumber()</code> is called for item which will change the content of the item being updated based on the value of <code>itemIndex</code>. The code used for updating the Scroll Wheel items is shown below.</p><p><img src="/img/Tutorials/tutorial04/Screen1View_hpp_code.png" alt="Screen1View.hpp with the scrollWheelUpdateItem function" title="Screen1View.hpp with the scrollWheelUpdateItem function"> </p><p>Running the simulator for the application now shows that the text for the items contains the value of their index and the icons change based on which item is showing. The images below shows an example of the simulator running with the code implemented.</p><p><img src="/img/Tutorials/tutorial04/running_sim.png" alt="Running the simulator" title="Running the simulator"> </p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="step-4-adding-custom-behavior-to-scroll-wheel"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-4-adding-custom-behavior-to-scroll-wheel" title="Direct link to heading">#</a>Step 4: Adding custom behavior to Scroll Wheel</h2><p>In the last step of tutorial 4, we will add custom behavior for the Scroll Wheel, by making it move in a circular pattern when scrolling through the items, thereby moving in a pattern similar to a dial.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="add-custom-behavior-to-menuelement"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#add-custom-behavior-to-menuelement" title="Direct link to heading">#</a>Add Custom Behavior to MenuElement</h3><p>Getting the Scroll Wheel to move in a dial pattern, is done by shifting the horizontal position of the Image and Text widget for each item that is visible in the Scroll Wheel. To do this the function <code>setY()</code> for &quot;MenuElement&quot; is overridden in <code>MenuElement.hpp</code>. The <code>setY()</code> function is called for a Custom Container each time it is moved in the vertical direction and is used for redrawing the Custom Container in its new position. By overriding <code>setY()</code>, we are able to rearrange the Image and Text widget each time the Scroll Wheel is moved. The image below describes how to implement the new <code>setY()</code> function and shift the the two widgets in <code>MenuElement.hpp</code>.</p><p><img src="/img/Tutorials/tutorial04/setY.png" alt="Implementation of the new setY() in MenuElement.hpp" title="Implementation of the new setY() in MenuElement.hpp"> </p><p>With the new <code>setY()</code> function implemented, running the simulator shows that the Scroll Wheel is now moving in a dial pattern aligning with the curve from the overlay.</p><p><img src="/img/Tutorials/tutorial04/running_sim_02.png" alt="Running the simulator" title="Running the simulator"> </p><p>This concludes tutorial 4. To learn more about the concepts that have been used throughout the tutorial the chapters below discuss some concepts that you have worked with:</p><p>(###TODO Insert link)
ScrollWheel: Describes how to create and configure the Scroll Wheel in the TouchGFX Designer and how to create the logic in user code.</p><p>(###TODO Insert link)
&quot;Containers and Custom Containers&quot; discuss the widgets container and Custom Container and provide an example for how too create and use a Custom Container.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Tutorials/Tutorial_03"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« Tutorial 3: Applications with multiple screens</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#step-1-creating-a-custom-container" class="contents__link">Step 1: Creating a Custom Container</a><ul><li><a href="#adding-widgets-to-the-custom-container" class="contents__link">Adding widgets to the Custom Container</a></li><li><a href="#adding-the-custom-container-to-a-screen" class="contents__link">Adding the Custom Container to a screen</a></li></ul></li><li><a href="#step-2-creating-a-scroll-wheel" class="contents__link">Step 2: Creating a Scroll Wheel</a><ul><li><a href="#creating-the-scroll-wheel" class="contents__link">Creating the Scroll Wheel</a></li><li><a href="#adding-items-to-the-scroll-wheel" class="contents__link">Adding Items to the Scroll Wheel</a></li></ul></li><li><a href="#step-3-adding-user-code-to-scroll-wheel" class="contents__link">Step 3: Adding user code to Scroll Wheel</a><ul><li><a href="#change-image-and-text-in-menuelement" class="contents__link">Change Image and Text in MenuElement</a></li><li><a href="#update-the-items-in-the-scroll-wheel" class="contents__link">Update the Items in the Scroll Wheel</a></li></ul></li><li><a href="#step-4-adding-custom-behavior-to-scroll-wheel" class="contents__link">Step 4: Adding custom behavior to Scroll Wheel</a><ul><li><a href="#add-custom-behavior-to-menuelement" class="contents__link">Add Custom Behavior to MenuElement</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/Introduction/WhatIsTouchGFX">Docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">API</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="api/">API</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx">Community</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://www.touchgfx.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1Wg7"><img class="footer__logo" alt="TouchGFX Logo" src="/img/logo.png"></a></div>Copyright © 2020 ST Microelectronics</div></div></footer>
</div>

<script src="/styles.df2ad680.js"></script>

<script src="/runtime~main.8c448cf1.js"></script>

<script src="/main.4cc5efc9.js"></script>

<script src="/1.196a616d.js"></script>

<script src="/82.3a92e7c1.js"></script>

<script src="/20ac7829.035c81fb.js"></script>

<script src="/17896441.7ae689e4.js"></script>

<script src="/060ed9c3.f23d7f98.js"></script>


</body>
</html>