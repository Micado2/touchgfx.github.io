<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">Performance | TouchGFX Documentation</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="TouchGFX Documentation"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="import Figure from &#x27;@site/components/Figure&#x27;;"><meta data-react-helmet="true" property="og:description" content="import Figure from &#x27;@site/components/Figure&#x27;;"><meta data-react-helmet="true" property="og:url" content="https://support.touchgfx.com/docs/basic-concepts/performance">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png">


<link rel="stylesheet" href="/styles.cdb1878b.css">


<link rel="preload" href="/styles.a46c8391.js" as="script">

<link rel="preload" href="/runtime~main.b07769fe.js" as="script">

<link rel="preload" href="/main.652be987.js" as="script">

<link rel="preload" href="/common.61c1039a.js" as="script">

<link rel="preload" href="/2.ac967074.js" as="script">

<link rel="preload" href="/3.168ba183.js" as="script">

<link rel="preload" href="/1be78505.63628704.js" as="script">

<link rel="preload" href="/20ac7829.ca23f0a5.js" as="script">

<link rel="preload" href="/17896441.f8cf0f7f.js" as="script">

<link rel="preload" href="/b03d40f2.2c69efb9.js" as="script">

</head>
<body>

<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" target="_self" href="/docs/introduction/welcome"><img class="navbar__logo" src="/img/logo.png" alt="My Site Logo"></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" href="/api/">API</a><a class="navbar__item navbar__link" activeclassname="navbar__link--active" to="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx">Community</a><a class="navbar__item navbar__link" activeclassname="navbar__link--active" to="https://touchgfx.com/" href="https://touchgfx.com/">TouchGFX.com</a><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" target="_self" href="/docs/introduction/welcome"><img class="navbar__logo" src="/img/logo.png" alt="My Site Logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" target="_blank" href="/api/">API</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="navbar__link--active" to="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx">Community</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="navbar__link--active" to="https://touchgfx.com/" href="https://touchgfx.com/">TouchGFX.com</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="sidebarLogo_3ono"><img src="/img/logo.png" alt="My Site Logo"></div><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/welcome">Welcome</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/what-is-touchgfx">What is TouchGFX?</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/getting-started">Getting Started</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Basic Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/embedded-graphics">Embedded Graphics</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/framebuffer">Framebuffer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/graphics-engine">Graphics Engine</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/basic-concepts/rendering">Main Loop</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/basic-concepts/performance">Performance</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/development-introduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hardware Selection</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/hardware-selection-introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/preliminary-considerations">Preliminary Considerations</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hardware Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/hardware-components/hardware-selection-mcu">MCU</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/hardware-components/hardware-selection-display">Display</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/hardware-selection/hardware-components/hardware-selection-external-memories">External Memories</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Board Bring Up</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/board-introduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">How To</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/01-create-project">1. Create Project</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/02-cpu-running">2. CPU Running</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/03-display-internal">3. Framebuffer in internal RAM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/04-enable-external-ram">4. External RAM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/05-display-external">5. Framebuffer in external RAM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/06-flash-external-addressable">6. External addressable flash</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/07-flash-external-nonaddressable">7. External flash in block mode</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/08-hardware-acceleration">8. Hardware acceleration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/09-touch-controller">9. Touch Controller</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/10-physical-buttons">10. Physical Buttons</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/how-to/11-flash-loader">11. Flash Loader</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">TouchGFX AL Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/touchgfx-al-development-introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/touchgfx-architecture">Abstraction Layer Architecture</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/touchgfx-generator">Generator User Guide</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Scenarios</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/scenarios/scenarios-introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/scenarios/scenarios-ltdc-parallel-rgb">LTDC/Parallel RGB</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/scenarios/scenarios-fmc">FMC and SPI</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/touchgfx-hal-development/scenarios/scenarios-framebuffer-strategies">Framebuffer Strategies</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/board-bring-up/example-gpio">External events as triggers</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UI Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-development-introduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Software Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/software-architecture/model-view-presenter-design-pattern">Model-View-Presenter Design Pattern</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/software-architecture/screen-definition-and-mvp">The Screen Concept</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/software-architecture/code-structure">Code Structure</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Working with TouchGFX</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/using-ides-with-touchgfx">Using IDEs with TouchGFX</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/widgets-and-containers">Widgets and Containers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/simulator">Simulator</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/compiling-and-flashing">Compiling &amp; Flashing</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/working-with-touchgfx/debugging">Debugging</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Designer User Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/startup-window">Startup Window</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/file-menu">File Menu</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/main-window">Main Window</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/canvas-view">Canvas View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/images-view">Images View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/texts-view">Texts View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/config-view">Config View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/designer-user-guide/interactions-view">Interactions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">TouchGFX Engine Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/custom-triggers-and-actions">Custom Triggers and Actions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/custom-containers">Custom Containers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/caching-bitmaps">Caching Bitmaps</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/custom-widgets">Custom Widgets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/canvas-widgets">Canvas Widgets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/dynamic-bitmaps">Dynamic Bitmaps</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/using-binary-fonts">Binary Fonts</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/font-cache">Font Caching</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/backend-communication">Backend Communication</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/mixins">Mixins</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts">Texts and Fonts</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/touchgfx-engine-features/languages-and-characters">Languages and Characters</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UI Components</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Buttons</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/button">Button</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/button-with-label">ButtonWithLabel</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/button-with-icon">ButtonWithIcon</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/toggle-button">ToggleButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/radio-button">RadioButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/repeat-button">RepeatButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/buttons/flex-button">FlexButton</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Images</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/image">Image</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/scalable-image">ScalableImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/tiled-image">TiledImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/animated-image">AnimatedImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/images/texture-mapper">TextureMapper</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Containers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/container">Container</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/scrollable-container">ScrollableContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/swipe-container">SwipeContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/list-layout">ListLayout</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/modal-window">ModalWindow</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/scroll-list">ScrollList</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/containers/scroll-wheel">ScrollWheel</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ProgressIndicators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/box-progress">BoxProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/image-progress">ImageProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/text-progress">TextProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/line-progress">LineProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/progress-indicators/circle-progress">CircleProgress</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Shapes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/box">Box</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/box-with-border">BoxWithBorder</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/line">Line</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/circle">Circle</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/shapes/shape">Shape</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Miscellaneous</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/miscellaneous/slider">Slider</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/miscellaneous/text-area">TextArea</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/miscellaneous/analog-clock">AnalogClock</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/miscellaneous/digital-clock">DigitalClock</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/ui-components/general-ui-component-performance">General UI Component Performance</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Scenarios</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/achieving-better-performance-with-cacheable-container">Achieving Better Performance with CacheableContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/loading-images-at-runtime">Loading Images at Runtime</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/lowering-memory-usage-with-partial-framebuffer">Lowering Memory Usage with Partial Framebuffer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/using-the-l8-image-format-to-reduce-memory-consumption">Using the L8 Image Format to Reduce Memory Consumption</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/creating-dynamic-l8-images">Creating Dynamic L8 Images</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development/ui-development/scenarios/using-non-memory-mapped-flash">Using Non-Memory Mapped Flash for storing images</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Miscellaneous</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/updating-to-a-new-touchgfx-version">Updating to a new TouchGFX Version</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/getting-help">Getting Help</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/known-issues">Known Issues</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/changelog">Changelog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/miscellaneous/3rd-party-components-in-touchgfx">3rd Party Components in TouchGFX</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-01">Tutorial 1: Trying Out the Examples</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-02">Tutorial 2: Creating Your Own Application</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-03">Tutorial 3: Applications with Multiple Screens</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-04">Tutorial 4: Creating a Scroll Wheel with Custom Behavior</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/tutorial-05">Tutorial 5: Creating Custom Triggers and Actions</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Performance</h1></header><div class="markdown"><p>In this section we will discuss performance aspects of an embedded
graphical user interface.</p><p>A high performance is here defined as getting a high frame rate while
still obtaining the desired graphical effects and animations.</p><p>Let&#x27;s recall from the previous section how the frame rate of the user
interface is affected by the main loop. Assume again that there is a
parallel RGB display attached to the LTDC and two framebuffers.
The basic situation is illustrated below:</p><div class="figure noshadow"><a href="/img/basic-concepts/rendering/engine-cycle-2fb-normal.png" target="_blank"><img src="/img/basic-concepts/rendering/engine-cycle-2fb-normal.png"></a><p>Double framebuffers</p></div><p>As the display is assumed refreshed 60 times each second there is approximately
16 ms between each refresh.
The calculation is this: 1 s / 60 = 0.01667 s = 16.67 ms.</p><p>TouchGFX starts drawing frame 1 into framebuffer 2 at the time where the
transfer of framebuffer 1 has started. If the rendering of
frame 1 is finished before the next transfer starts we can transfer framebuffer 2.
If not finished within 16.67 ms framebuffer 1 is transferred
again and the display will appear unchanged:</p><div class="figure noshadow"><a href="/img/basic-concepts/rendering/engine-cycle-2fb-long-render.png" target="_blank"><img src="/img/basic-concepts/rendering/engine-cycle-2fb-long-render.png"></a><p>Main loop time above 16.67 ms</p></div><p>This situation is denoted a lost frame.</p><p>The time for the collect and update phases are typically minuscule, e.g. less than 1 ms, and therefore more or less neglectable when considering the overall time taken of the main loop. Therefore, in the following and in general, when considering render time, this includes the collect and update phases.</p><p>If the rendering time in many frames exceeds the 16.67 ms time limit the
frame rate on the display will be 30 frames per second (fps).</p><p>If the rendering generally is shorter than 16.67 ms, but in some
frames longer than 16.67 ms, the frame rate may be close to 60 fps in
average, but the animation may not appear fluent to the
user. Depending on the application it can look like some steps in the
animation are fast and some are slow. This is not desireable.</p><p>The rendering time can also be even longer. If it is just above 33 ms,
the framerate will drop to 20 fps as we only have a new frame ready on
every third transfer.</p><table><thead><tr><th>FPS</th><th>Max rendering time</th></tr></thead><tbody><tr><td>60</td><td>16.67 ms</td></tr><tr><td>30</td><td>33.34 ms</td></tr><tr><td>20</td><td>50.00 ms</td></tr><tr><td>15</td><td>66.67 ms</td></tr></tbody></table><p>The table shows the maximum rendering time (including the collect and
update phases) that is available for a given framerate.</p><p>To achieve a good performance of a user interface it can be very
beneficial to check and monitor the frame rate regularly. Two
approaches can be used:</p><ul><li>Measure the rendering time</li><li>Count the lost frames</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="measuring-the-rendering-time"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#measuring-the-rendering-time" title="Direct link to heading">#</a>Measuring the rendering time</h2><p>The first approach of measuring the rendering time gives the most
detailed information. The idea is basically to measure the time from
the frame transfer to the end of the rendering phase.
The graphics engine calls a function on the GPIO class when the
collect phase starts and makes another call when the rendering phase
ends. The application defines these function and can hook into them to
peform measurements.</p><p>The measurements can be done in two ways:</p><ul><li>Use external timing device like an oscilloscope:
To do this the application should make an external digital output
high when the GPIO::set(RENDER_TIME) is called, and low when the
GPIO:clear(RENDER_TIME) is called. The oscilloscope can then measure
the rendering time as the time the output is high.</li><li>Use an internal timer:
Another approach is to use an internal timer, like the sysTick
timer. When the GPIO::set(RENDER_TIME) is called the application can
save the value of the timer in a variable. When the clear call is
made the application can read the timer again and subtract the
previous value to get the render time. The speed of the timer will
define the resolution of the measurement. The application must
somehow make the render time visible. One way is to save the value
in a global variable and maybe show the value on the screen in a
TextArea. The value can also be checked with a debugger.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="counting-the-lost-frames"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#counting-the-lost-frames" title="Direct link to heading">#</a>Counting the lost frames</h2><p>The graphics engine counts the number of transfers that has
occured during the last collect-update-rendering phase. The
application can easily check this value to see if a frame
was lost and the frame rate therefore lowered.</p><p>The count is available in the <em>HAL</em> class:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-cpp codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">handleTickEvent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  tickCounter </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">HAL</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">getInstance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token function" style="color:rgb(130, 170, 255)">getLCDRefreshCount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Alert programmer somehow</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="compensating-for-lost-frames"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#compensating-for-lost-frames" title="Direct link to heading">#</a>Compensating for lost frames</h3><p>When frames are lost and the framerate of one of our animations therefore lowered we can compensate to a certain degree. We can either</p><ul><li>wait it out - let the animation go on, resulting in a longer animation duration, and possibly unsmooth animation.</li><li>skip some frames - make sure that the overall animation does not take longer time than intended by skipping frames.</li></ul><p>TouchGFX can be instructed to automaticallly skip some frames, when frames are lost. This can be accomplished by ticking animations more than once per actual frame. This can help in making animations more fluent when the render time is uneven.</p><div class="code-header"><div><h5>HAL.hpp</h5></div></div><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-cpp codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setFrameRateCompensation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">bool</span><span class="token plain"> enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="what-affects-the-rendering-time"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-affects-the-rendering-time" title="Direct link to heading">#</a>What affects the rendering time?</h2><p>A number of different things affect the rendering time: The size of
the updated parts, the use of layering, the complexity of the widgets,
and the available hardware support for the rendering.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="how-much-of-the-screen-is-updated"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-much-of-the-screen-is-updated" title="Direct link to heading">#</a>How much of the screen is updated</h3><p>The rendering time is generally proportional to the number of pixels
that must be updated. So if an animation takes too long time to render,
a possible fix is to reduce the area of the animation. For example, if
you have a rotating image and the performance is not good enough, the
performance can be improved by reducing the size of the image.</p><div class="figure noshadow"><a href="/img/basic-concepts/performance/reducing-image-size.png" target="_blank"><img src="/img/basic-concepts/performance/reducing-image-size.png"></a><p>Reducing image size reduces the rendering time</p></div><p>Remember that the graphics engine redraws the
areas that the application invalidated. This means that it is
important to only invalidate the areas that actually requires a
refresh.</p><p><em>The larger the invalidated areas, the longer the render time</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="the-number-of-layers-in-the-graphics"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-number-of-layers-in-the-graphics" title="Direct link to heading">#</a>The number of layers in the graphics</h3><p>In a typical application the graphics will consist of different
elements that are stacked upon each other. If one of the elements is
updated all the elements must typically be redrawn.</p><p>A typical example of this is a background image, a frame, and some
text:</p><div class="figure noshadow"><a href="/img/basic-concepts/performance/text-in-a-frame.png" target="_blank"><img src="/img/basic-concepts/performance/text-in-a-frame.png"></a><p>Layering graphical elements</p></div><p>This user interface is created by putting a TextArea widget on
top of an Image widget showing a transparent frame. Both on top of
the background Image:</p><div class="figure noshadow"><a href="/img/basic-concepts/performance/text-in-a-frame-designer.png" target="_blank"><img src="/img/basic-concepts/performance/text-in-a-frame-designer.png"></a><p>Layering graphical elements in TouchGFX Designer</p></div><p>This solution is used very often in application. It is a very easy
solution with a high flexibility, as it is, for example, possible to
change the frame at runtime or move the frame and the text on the
background.</p><p>The problem regarding rendering time is that if the text is updated at
runtime and needs to be redrawn, the graphics engine also needs to
redraw the background and the frame; and then the new text. This increases
the time to render the text considerable.</p><p><em>The more layers in an invalidated area, the longer the render time</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="the-complexity-of-rendering-the-pixels"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-complexity-of-rendering-the-pixels" title="Direct link to heading">#</a>The complexity of rendering the pixels</h3><p>Not all pixels are equally difficult to render to the framebuffer. In
all types of rendering the graphical engine must write the resulting
pixel to the framebuffer. But the cost of calculating the pixel to
write differs.</p><p>The fixed color, e.g. used in the Box Widget, has the lowest cost, as
the calculation of a pixel is done once and reused for all the
pixels. This means that we can get a very high performance by using a
lot of Boxes. This is not recommended as the user interface will not
be of high quality.</p><p>An image has the next lowest cost of pixel calculation since the
pixels are stored in a ready to use format in the bitmaps. Calculating
the pixel to write to the framebuffer is a matter of loading the color
value from the correct place in the bitmap.</p><p>Text bears a cost comparable to images as the individual letters are
actually represented as small images. In practice the cost is higher
as the high number of small images gives rise to a considerable
&quot;start-stop&quot; cost. For example the calculation of the position of the
individual letters. In order for text to look as nice as possible, it
is represented as small images with transparency, see the notes on
transparency below.</p><p>Rotated or scaled images are more expensive. The task is again to load
the pixel value from the bitmap, but this time it is a more time
consuming calculation because the graphics engine has to incorporate
the scaling and rotation.</p><p>Geometric elements like a circle are even more expensive. This time we
cannot load the pixel color from a bitmap, but we have to calculate
both the shape of the circle and the color of individual pixels in the
circle.</p><p>Transparency adds to the cost of drawing an element. An element is
transparent if some of the pixels are not solid. This increases the
cost of drawing as the graphical engine first has to draw the element
behind the transparent element (as we saw in the &quot;text in a frame&quot;
section). Secondly the graphical engine then has to combine the
background pixel with the pixel of the transparent element and write
the result to the framebuffer. This calculation takes considerable
more time than just writing the calculated pixel.</p><div class="figure noshadow"><a href="/img/basic-concepts/performance/box-image-texture-circle.png" target="_blank"><img src="/img/basic-concepts/performance/box-image-texture-circle.png"></a><p>Box, Image, rotated Image, and circle. Solid elements in the first row. Transparent elements below.</p></div><p>Transparency always gives you an extra layer. But putting solid pixels
on top of other solid pixels does not always increase the number of
layers. The graphical engine tries to not draw pixels that are covered
by other solid pixels, as this would be a waste of precious time.</p><p><em>The more expensive elements in the invalidated area, the longer the render time</em></p><p>Remember that is only the elements that are part of the invalidated
area, that adds to the rendering time. Elements outside of the
invalidated areas does not impact the rendering time.</p><p>Read more about ui components and performance <a href="/docs/development/ui-development/ui-components/general-ui-component-performance">here</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="hardware-support-for-rendering"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#hardware-support-for-rendering" title="Direct link to heading">#</a>Hardware support for rendering</h3><p>Some STM32 microcontrollers contain a graphical accelerator called
Chrom-ART (or DMA2D). This accelerator can reduce the rendering
time. As the accelerator runs in parallel with the microcontroller
core, the microcontroller is free to run other tasks while the
accelerator renders graphics.</p><p>Chrom-ART is mainly useful for images and text. It is automatically
used by the graphics engine when available.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="when-should-you-consider-rendering-time"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#when-should-you-consider-rendering-time" title="Direct link to heading">#</a>When should you consider rendering time</h2><p>Rendering time is not equally important all the time. You should pay
attention to the rendering time when a slow frame rate is visible to
the user. This is typically the case when you have an animation
running on part of the screen (like a rotating icon) or when you move
or slide something across the screen. If the update frequency is low
it will appear step-wise instead of fluent to the user. If this is the
case you should check the rendering time.</p><p>On the other hand, if you replace the whole screen with a new screen,
it is normally not visible to the user if the frame rate dropped
significantly during the change. This is because the user cannot see
when the rendering started, but only when it finished.</p><p>These two rules means that for animated elements (e.g. moving) you
should use few layers and refrain from using complex elements and many
layers. For other parts of the screen, this could be unproblematic.</p><div class="figure noshadow"><a href="/img/basic-concepts/performance/clock-and-scrolllist.png" target="_blank"><img src="/img/basic-concepts/performance/clock-and-scrolllist.png"></a><p>Analog clock and a scroll list</p></div><p>In this example we have an analog clock on the left. The three clock
hands are rendered by rotating small elongated images. This is
normally fine as the hands do not move all the time. But if we wanted
to move the clock around on the screen, they would be redrawn in every
frame and that could be problematic, as drawing rotated images is
typically time consuming.</p><p>On the right we have a scroll list. The user can move this list of
numbers up and down, so we need a high framerate for the user
interface to appear responsive. Therefore it is important that we
consider the rendering time of the elements in the scroll list or
reduce the size of the scroll list.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="tips-to-get-good-performance"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#tips-to-get-good-performance" title="Direct link to heading">#</a>Tips to get good performance</h2><p>We end this section with a summary of the tips to obtain a good performance:</p><ul><li><strong>Do not redraw unchanged things</strong>
Make sure that you do not accidentially invalidate unnecessary parts
of the display. This reduces the performance without any benifit.</li><li><strong>Find balance between quality and speed</strong>
Reducing the complexity of the elements can improve the
performance. A good balance between this and the performance is
often the key.</li><li><strong>Utilize hardware capabilities</strong>
The capability of a microcontroller with hardware acceleration
(Chrom-ART) is often higher than a microcontroller without. Consider
using a microcontroller with Chrom-ART.</li><li><strong>Replace calculated graphics with images</strong>
The calculated circle is slower than an image of a circle. In
general images can replace many static elements.</li><li><strong>Adjust display refresh rate</strong>
As we discussed in the beginning of this section is the refresh rate
a hard limit for the rendering time. If the rendering time increases
above the refresh rate, the frame rate drops. If your rendering time
is just a little above the refresh rate, it may be possible to lower
the refresh rate of the display to e.g. 55 Hz (corresponding to 18.2
ms), and keep the high frame rate.</li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/basic-concepts/rendering"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« Main Loop</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/development/development-introduction"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Introduction »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#measuring-the-rendering-time" class="contents__link">Measuring the rendering time</a></li><li><a href="#counting-the-lost-frames" class="contents__link">Counting the lost frames</a><ul><li><a href="#compensating-for-lost-frames" class="contents__link">Compensating for lost frames</a></li></ul></li><li><a href="#what-affects-the-rendering-time" class="contents__link">What affects the rendering time?</a><ul><li><a href="#how-much-of-the-screen-is-updated" class="contents__link">How much of the screen is updated</a></li><li><a href="#the-number-of-layers-in-the-graphics" class="contents__link">The number of layers in the graphics</a></li><li><a href="#the-complexity-of-rendering-the-pixels" class="contents__link">The complexity of rendering the pixels</a></li><li><a href="#hardware-support-for-rendering" class="contents__link">Hardware support for rendering</a></li></ul></li><li><a href="#when-should-you-consider-rendering-time" class="contents__link">When should you consider rendering time</a></li><li><a href="#tips-to-get-good-performance" class="contents__link">Tips to get good performance</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div>Copyright © 2020 ST Microelectronics</div></div></div></footer>
</div>

<script src="/styles.a46c8391.js"></script>

<script src="/runtime~main.b07769fe.js"></script>

<script src="/main.652be987.js"></script>

<script src="/common.61c1039a.js"></script>

<script src="/2.ac967074.js"></script>

<script src="/3.168ba183.js"></script>

<script src="/1be78505.63628704.js"></script>

<script src="/20ac7829.ca23f0a5.js"></script>

<script src="/17896441.f8cf0f7f.js"></script>

<script src="/b03d40f2.2c69efb9.js"></script>


</body>
</html>