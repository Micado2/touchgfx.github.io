<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">Framebuffer</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="TouchGFX Documentation · The knowledge base for TouchGFX"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="import useBaseUrl from &#x27;@docusaurus/useBaseUrl&#x27;; "><meta data-react-helmet="true" property="og:description" content="import useBaseUrl from &#x27;@docusaurus/useBaseUrl&#x27;; "><meta data-react-helmet="true" property="og:url" content="https://touchgfx.github.io/docs/BasicConcepts/Framebuffer">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png">


<link rel="stylesheet" href="/styles.a3c8dad0.css">

</head>
<body>

<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.png" alt="My Site Logo"></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/Introduction/Welcome">Docs</a><a class="navbar__item navbar__link" target="_blank" href="/api/">API</a><a class="navbar__item navbar__link" activeclassname="navbar__link--active" to="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx">Community</a><div class="navbar__search"><span role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.png" alt="My Site Logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Introduction/Welcome">Docs</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" href="/api/">API</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="navbar__link--active" to="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx">Community</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Introduction/Welcome">Welcome</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Introduction/WhatIsTouchGFX">What is TouchGFX?</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Introduction/Installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Introduction/GettingStarted">Getting Started</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Basic Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/EmbeddedGraphics">Embedded Graphics</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/GraphicsEngine">Graphics Engine</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/Colors">Colors</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/EngineArchitecture">Engine Architecture</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/BasicConcepts/Framebuffer">Framebuffer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/HardwareComponents">Hardware Components</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/Performance">Performance</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/MemoryUsage">Memory Usage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/Rendering">Rendering</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/AlphaBlending">Alpha Blending</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/HardwareAcceleration">Hardware Acceleration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/TouchGFXSoftwareLayers">TouchGFX Software Layers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/BasicConcepts/SoftwareArchitectureMVP">Software Architecture - MVP</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/DevelopmentIntroduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hardware Selection</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/hardware-selection-introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/before-selection-of-hardware">Before Selection of Hardware</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hardware Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/hardware-selection-mcu">MCU</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/hardware-selection-display">Display</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/hardware-selection-external-flash">External Flash</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/hardware-selection-external-ram">External RAM</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/HardwareComponents/hardware-selection-bus">Bus</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/HardwareSelection/hardware-selection-summary">Summary</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Board Bring Up</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/BoardBringUp/BoardIntroduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/BoardBringUp/BoardDisplay">Display</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">TouchGFX HAL Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/TouchGFXHALDevelopment/TouchGFXHALDevelopmentIntroduction">Introduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UI Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIDevelopmentIntroduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Software Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/software-architecture/model-view-presenter-design-pattern">Model-View-Presenter Design Pattern</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/software-architecture/screen-definition-and-mvp">Screen Definition and MVP</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/software-architecture/code-structure">Code Structure</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Working with TouchGFX</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/WorkingWithTouchGFX/CreatingANewApplication">Creating a new Application</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Designer User Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/DesignerUserGuide/StartupWindow">Startup Window</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/DesignerUserGuide/FileMenu">File Menu</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/DesignerUserGuide/MainWindow">Main Window</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/DesignerUserGuide/CanvasView">Canvas View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/DesignerUserGuide/ImagesView">Images View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/DesignerUserGuide/TextsView">Texts View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/DesignerUserGuide/ConfigView">Config View</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/DesignerUserGuide/Interactions">Interactions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">TouchGFX Engine Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/TouchGFXEngineFeatures/CustomTriggersAndActions">Custom Triggers and Actions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/TouchGFXEngineFeatures/CanvasWidgets">Canvas Widgets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/TouchGFXEngineFeatures/CustomWidgets">Custom Widgets</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/TouchGFXEngineFeatures/BackendCommunication">Backend Communication</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UI Components</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Buttons</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/Button">Button</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/ButtonWithLabel">ButtonWithLabel</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/ButtonWithIcon">ButtonWithIcon</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/ToggleButton">ToggleButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/RadioButton">RadioButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/RepeatButton">RepeatButton</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Buttons/FlexButton">FlexButton</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Images</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/Image">Image</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/ScalableImage">ScalableImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/TiledImage">TiledImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/AnimatedImage">AnimatedImage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Images/TextureMapper">TextureMapper</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Containers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/Container">Container</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ScrollableContainer">ScrollableContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/SwipeContainer">SwipeContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ListLayout">ListLayout</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ModalWindow">ModalWindow</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ScrollList">ScrollList</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Containers/ScrollWheel">ScrollWheel</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ProgressIndicators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/BoxProgress">BoxProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/ImageProgress">ImageProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/TextProgress">TextProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/LineProgress">LineProgress</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/ProgressIndicators/CircleProgress">CircleProgress</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Shapes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/Box">Box</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/BoxWithBorder">BoxWithBorder</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/Line">Line</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/Circle">Circle</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Shapes/Shape">Shape</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Miscellaneous</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Miscellaneous/Slider">Slider</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Miscellaneous/TextArea">TextArea</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Miscellaneous/AnalogClock">AnalogClock</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/Miscellaneous/DigitalClock">DigitalClock</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/UIComponents/GeneralUIComponentPerformance">General UI Component Performance</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Scenarios</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/Scenarios/AchievingBetterPerformanceWithCacheableContainer">Achieving Better Performance with CacheableContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/Scenarios/LoadingImagesAtRuntime">Loading Images at Runtime</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/Scenarios/LoweringMemoryUsageWithPartialFrameBuffer">Lowering Memory Usage with Partial Framebuffer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/Scenarios/UsingNonMemoryMappedFlashForStoringImages">Using Non-Memory Mapped Flash for Storing Images</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Development/UIDevelopment/Scenarios/UsingTheL8ImageFormatToReduceMemoryConsumption">Using the L8 Image Format to Reduce Memory Consumption</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Tutorials/Tutorial_01">Tutorial 1: Trying out the examples</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Tutorials/Tutorial_02">Tutorial 2: Creating your own application</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Tutorials/Tutorial_03">Tutorial 3: Applications with multiple screens</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Tutorials/Tutorial_04">Tutorial 4: Creating a Scroll Wheel with custom behavior</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Tutorials/Tutorial_05">Tutorial 5: Creating Custom Triggers and Actions</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Framebuffer</h1></header><div class="markdown"><p>TODO SMM I artiklen om framebuffer er der et afsnit om ram i displayet, hvor man får forståelsen for at man ikke kan bruge dette setup, og derfor ikke muligt at bruge f.eks SPI displays.
TODO I må gerne være mere pædagogiske i dette afsnit og fortælle hvordan et setup skal være hvis man skal bruge denne type. Så vi derved kommunikere at det er muligt at bruge displays med ram i.
TODO Ps ved folk hvad random pixel reads?</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="what-is-a-framebuffer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-a-framebuffer" title="Direct link to heading">#</a>What is a framebuffer</h2><p><em>A framebuffer is a piece of memory that is written by TouchGFX and displayed on the physical display.</em></p><p>A framebuffer is a contiguous part of RAM of a given size. </p><div class="figure noshadow"><a href="/img/BasicConcepts/framebuffer_contiguous_memory.svg" target="_blank"><img src="/img/BasicConcepts/framebuffer_contiguous_memory.svg"></a><p>Framebuffer memory</p></div><p>A framebuffer has an associated width and height.
Therefore we typically think of a framebuffer as being a two dimensional part of memory, indexable
by x, y coordinates.</p><div class="figure noshadow"><a href="/img/BasicConcepts/framebuffer_2d_memory.svg" target="_blank"><img src="/img/BasicConcepts/framebuffer_2d_memory.svg"></a><p>2D framebuffer memory</p></div><p>A framebuffer has an associated color format.
Each entry in the framebuffer will be a color in this color format.
We will refer to each such entry in the framebuffer as a pixel. </p><p>We can update the color of a pixel at position x,y in the framebuffer by calculating the memory address
of the pixel within the framebuffer and updating the stored color.</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-cpp codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> pixelAddress </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> y </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> WIDTH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">framebuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> pixelAddress </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> newColor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Similarly we can get the color of a pixel and use this in calculations. For instance darkening the color
of a pixel in the framebuffer (assuming we have a <code>darken</code> function available).</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-cpp codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> pixelAddress </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> y </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> WIDTH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">framebuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> pixelAddress </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">darken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> framebuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> pixelAddress </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="colors"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#colors" title="Direct link to heading">#</a>Colors</h3><p>In TouchGFX the pixel color format of a framebuffer can be either</p><ul><li><strong>Grayscale</strong> 1, 2 or 4 bpp grayscale, or</li><li><strong>High or true color</strong> 16, 24 or 32 bpp color</li></ul><p>The more bits per pixels used the more distinct colors can be represented by the framebuffer, moreover
the more bits per pixels used the more memory consumed by the framebuffer. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="display"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#display" title="Direct link to heading">#</a>Display</h3><p>The contents of the framebuffer is what is ultimately seen on the physical display.
transferred</p><div class="figure noshadow"><a href="/img/BasicConcepts/display_and_framebuffer.svg" target="_blank"><img src="/img/BasicConcepts/display_and_framebuffer.svg"></a><p>Framebuffer and display</p></div><p>Therefore it is very common to have the same width and height of the framebuffer and the display.</p><p>The overall job of TouchGFX is to continously render its description of the screen
into a framebuffer.</p><p>The memory of the framebuffer contains an image. </p><p>When TouchGFX renders its scene graph into an image</p><p>TouchGFX renders </p><p>The contents of a framebuffer is what you see on a physical display</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="location-of-framebuffer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#location-of-framebuffer" title="Direct link to heading">#</a>Location of framebuffer</h2><p>A very oversimplified view of a microcontroller based graphics system is here.</p><div class="figure noshadow"><a href="/img/BasicConcepts/simplified_graphics_system.svg" target="_blank"><img src="/img/BasicConcepts/simplified_graphics_system.svg"></a><p>Oversimplified view of graphics system</p></div><p>A framebuffer can be placed either internally in the MCU, in external RAM or in memory
embedded within the display.</p><div class="figure noshadow"><a href="/img/BasicConcepts/framebuffer_placement.svg" target="_blank"><img src="/img/BasicConcepts/framebuffer_placement.svg"></a><p>Possible locations of framebuffer</p></div><p>Each possible location has potential benefits and drawbacks.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="internal-ram"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#internal-ram" title="Direct link to heading">#</a>Internal RAM</h3><p>Placing the framebuffer in RAM internal to the MCU makes the read and write access to the framebuffer
as fast as possible. This means that your TouchGFX application will run as smoothly as possible.
Conversely, internal RAM is a very scarce resource and one that is used by many
parts of a system, therefore occupying a large part of this with a framebuffer might be infeasible.</p><p>If feasible, having a framebuffer in internal RAM, could reduce the overall cost of the system as
no additional RAM is needed. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="external-ram"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#external-ram" title="Direct link to heading">#</a>External RAM</h3><p>If the system has external RAM, placing the framebuffer here is an alternative to placing it in internal RAM.
The read and write access to external RAM will typically be slower than to the internal RAM,
but the amount of external RAM will typically be much larger. Therefore this is sometimes the only viable solution.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="display-ram"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#display-ram" title="Direct link to heading">#</a>Display RAM</h3><p>Depending on the type of display in the system there might be memory embedded on the display.
This memory holds the contents of the &quot;physical&quot; pixels of the display.
This memory is seldomly memory mapped and is therefore not intended nor suitable for random pixel reads or writes from TouchGFX.
Placing a TouchGFX framebuffer in the RAM of the display is not recommended/possible. </p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="amount-of-framebuffers"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#amount-of-framebuffers" title="Direct link to heading">#</a>Amount of framebuffers</h2><p>TouchGFX can use more or less than one framebuffer in the application.
The amount of framebuffers impacts the performance and memory consumption of the application.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="one-framebuffer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#one-framebuffer" title="Direct link to heading">#</a>One framebuffer</h3><p>One framebuffer is enough to hold all pixels that are to be transferred to the display.
Having one framebuffer that </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="more-than-one-framebuffer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#more-than-one-framebuffer" title="Direct link to heading">#</a>More than one framebuffer</h3><p>Having more than one framebuffer implies that we</p><p>TODO FIGURE</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="less-than-one-framebuffer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#less-than-one-framebuffer" title="Direct link to heading">#</a>Less than one framebuffer</h3><p>Having less than one framebuffer implies that</p><ul><li>less memory is consumed</li><li>more transfers</li></ul><p>TODO FIGURE</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="memory-consumption"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#memory-consumption" title="Direct link to heading">#</a>Memory consumption</h2><p>The amount of colors and the number of pixels in the framebuffer determines
the memory consumed by one framebuffer.</p><p>In general the amount of memory used by a framebuffer is
<strong> width * height * color depth in bits / 8 </strong> bytes</p><table><thead><tr><th>Resolution</th><th>Memory consumed</th></tr></thead><tbody><tr><td>480x272</td><td>TEXT</td></tr><tr><td>TEXT</td><td>TEXT</td></tr></tbody></table><p><strong> TODO </strong>  make these calculations stand out more.</p><p>A framebuffer of width 800 and height 480 using 16 bpp colors will
have 800 * 480 = 384000 pixels.</p><p>The framebuffer therefore consumes
384000*16bpp = 6144000 bits = 768000 bytes = 750 kb of memory</p><div class="figure"><a href="/img/BasicConcepts/display_and_framebuffer.png" target="_blank"><img src="/img/BasicConcepts/display_and_framebuffer.png"></a><p>Display and framebuffer</p></div><p><a href="http://www.google.com">LTDC</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="todo"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#todo" title="Direct link to heading">#</a>TODO</h2><p>Types of display
Refreshed 60 times per second
Read and write speed of memory, internal, external, gram on display</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content"><li>STM32 <a to="https://www.st.com/content/ccc/resource/technical/document/application_note/group0/25/ca/f9/b4/ae/fc/4e/1e/DM00287603/files/DM00287603.pdf/jcr:content/translations/en.DM00287603.pdf" href="https://www.st.com/content/ccc/resource/technical/document/application_note/group0/25/ca/f9/b4/ae/fc/4e/1e/DM00287603/files/DM00287603.pdf/jcr:content/translations/en.DM00287603.pdf">LTDC</a> display controller</li><li>TODO section on HW components</li><li>TODO section on drawing/rendering/frame strategy</li></div></div><p>###TODO Write</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/BasicConcepts/EngineArchitecture"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« Engine Architecture</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/BasicConcepts/HardwareComponents"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Hardware Components »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#what-is-a-framebuffer" class="contents__link">What is a framebuffer</a><ul><li><a href="#colors" class="contents__link">Colors</a></li><li><a href="#display" class="contents__link">Display</a></li></ul></li><li><a href="#location-of-framebuffer" class="contents__link">Location of framebuffer</a><ul><li><a href="#internal-ram" class="contents__link">Internal RAM</a></li><li><a href="#external-ram" class="contents__link">External RAM</a></li><li><a href="#display-ram" class="contents__link">Display RAM</a></li></ul></li><li><a href="#amount-of-framebuffers" class="contents__link">Amount of framebuffers</a><ul><li><a href="#one-framebuffer" class="contents__link">One framebuffer</a></li><li><a href="#more-than-one-framebuffer" class="contents__link">More than one framebuffer</a></li><li><a href="#less-than-one-framebuffer" class="contents__link">Less than one framebuffer</a></li></ul></li><li><a href="#memory-consumption" class="contents__link">Memory consumption</a></li><li><a href="#todo" class="contents__link">TODO</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center">Copyright © 2020 ST Microelectronics</div></div></footer>
</div>

<script src="/styles.f40f9878.js"></script>

<script src="/runtime~main.aba817ad.js"></script>

<script src="/main.d930209b.js"></script>

<script src="/1.237b80b5.js"></script>

<script src="/101.1dc85872.js"></script>

<script src="/20ac7829.528d1622.js"></script>

<script src="/17896441.ae8511d8.js"></script>

<script src="/55202556.3ac599ec.js"></script>


</body>
</html>