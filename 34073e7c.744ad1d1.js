(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{153:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return s})),t.d(a,"metadata",(function(){return l})),t.d(a,"rightToc",(function(){return m})),t.d(a,"default",(function(){return p}));var o=t(1),r=t(9),n=(t(0),t(244)),i=t(245),s={id:"hardware-selection-external-memories",title:"External Memories"},l={id:"Development/HardwareSelection/HardwareComponents/hardware-selection-external-memories",title:"External Memories",description:"import Figure from '@site/components/Figure';\r",source:"@site/docs\\Development\\HardwareSelection\\HardwareComponents\\external-memories.mdx",permalink:"/docs/Development/HardwareSelection/HardwareComponents/hardware-selection-external-memories",sidebar:"docs",previous:{title:"Display",permalink:"/docs/Development/HardwareSelection/HardwareComponents/hardware-selection-display"},next:{title:"Introduction",permalink:"/docs/Development/BoardBringUp/BoardIntroduction"}},m=[{value:"External non-volatile memories",id:"external-non-volatile-memories",children:[{value:"NOR flash",id:"nor-flash",children:[]},{value:"NAND flash memories",id:"nand-flash-memories",children:[]},{value:"eMMC memories",id:"emmc-memories",children:[]}]},{value:"Volatile memories",id:"volatile-memories",children:[]}],c={rightToc:m},d="wrapper";function p(e){var a=e.components,t=Object(r.a)(e,["components"]);return Object(n.b)(d,Object(o.a)({},c,t,{components:a,mdxType:"MDXLayout"}),Object(n.b)("p",null,"This chapter is focussing on helping you choose the external memory for your embedded graphical user interface.",Object(n.b)("br",{parentName:"p"}),"\n",'Before reading this chapter, its is recommended to read the "before selection of hardware" and "MCU", so you are aware of some parameters which are important when choosing the right external memories.'),Object(n.b)("p",null,"Running a TouchGFX graphical user interface sometimes require external memory for storing the framebuffer(s), bitmaps, fonts, etc. A TouchGFX GUI is not dependent on external memories to run, but needs either internal RAM (in MCU) or external RAM for storing the framebuffer(s), and internal and/or external flash for storing data."),Object(n.b)("p",null,"Below overview shows some external memories which can be used with an STM32 MCU, some of the different memory examples are available with both serial and parallel interfaces."),Object(n.b)(i.a,{imageSource:"/img/Development/HardwareSelection/external-memories/memory-overview.png",caption:"Memoryoverview",mdxType:"Figure"}),Object(n.b)("p",null,"The different STM32 microcontrollers comes with different external memory interfaces, allowing to connect different external memories. "),Object(n.b)("h2",{id:"external-non-volatile-memories"},"External non-volatile memories"),Object(n.b)("p",null,"In a GUI application, the non-volatile storage (flash) is mainly used for storing all bitmaps/data, or for code execution for the STM32 value line products for example.\nThe non-volatile memories are supported by the STM32 products and can be connected with different types of interfaces.\nParallel or serial memories and different configurations, a wide of range of the non-volatile memories are proposed"),Object(n.b)(i.a,{imageSource:"/img/Development/HardwareSelection/external-memories/non-volatile-memory-overview.png",caption:"Non-Volatile Memories",mdxType:"Figure"}),Object(n.b)("p",null,"The choose of the non-volatile storage depend on:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"The type of the interface (Parallel/Serial)"),Object(n.b)("li",{parentName:"ul"},"The performance"),Object(n.b)("li",{parentName:"ul"},"The mode (memory mapped or indirect mode)"),Object(n.b)("li",{parentName:"ul"},"the number of needed pins"),Object(n.b)("li",{parentName:"ul"},"the cost")),Object(n.b)("h3",{id:"nor-flash"},"NOR flash"),Object(n.b)("p",null,"NOR flash memory is one of the most popular storages in embedded systems.\nThe NOR flash is a non-volatilily memory that allows the random access to any area in the memory."),Object(n.b)("p",null,"The NOR flash in ",Object(n.b)("strong",{parentName:"p"}," memory mapped ")," mode where the external flash is seen as an internal memory for read operations.\nThis mode allows the system masters (such as DMA, LTDC, DMA2D, GFXMMU or SDMMC) to access autonomously even in low-power mode when the CPU is\nstopped, which is ideal for mobile and wearable applications."),Object(n.b)("p",null,"Compared to the indirect mode (The non memory mapped mode), the memory mapped mode ..."),Object(n.b)("p",null,"The NOR flash memory is avalable with wide of range with different configurations:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Parallel NOR flash"),Object(n.b)("li",{parentName:"ul"},"Serial NOR flash"),Object(n.b)("li",{parentName:"ul"},"single, dual, quad and Octo lines for serial memories")),Object(n.b)("h4",{id:"serial-nor-flash-memories"},"Serial NOR flash memories"),Object(n.b)("p",null,"The spi flash memories are connected to the STM32 by the QSPI interface.\nThis type of memories present many benefits:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Frequency: up to 133MHz"),Object(n.b)("li",{parentName:"ul"},"Reducing the printed circuit board (PCB) area"),Object(n.b)("li",{parentName:"ul"},"simplifying the printed circuit board (PCB) design and reducing the GPIOs (general-purposeinput/output) usage "),Object(n.b)("li",{parentName:"ul"},"memory mapped mode up to ",Object(n.b)("strong",{parentName:"li"}," 256Mbytes ")," of adressable area."),Object(n.b)("li",{parentName:"ul"},"number of needed pins is between ",Object(n.b)("strong",{parentName:"li"}," 4 ")," to ",Object(n.b)("strong",{parentName:"li"}," 12 ")," pins. ")),Object(n.b)("h5",{id:"nor-single-dual-quad-octo-flash-memories"},"NOR single, dual, quad, Octo flash memories"),Object(n.b)("p",null,"In the Quad-SPI mode six pins are used: four pins for data and two pins for clock and chip\nselect. In this hardware configuration it is possible to use either Single or Dual-SPI mode.\nIn Quad-SPI mode the data is transferred, received or both over four lines."),Object(n.b)("p",null,"In Dual-SPI mode the hardware configuration is similar to the one in single mode, but here\ntwo lines are used for data, it means that data is sent and received in two lines. As for\nSingle-SPI mode, the IO2 and IO3 lines are optional, if not used the nWP and nHOLD\ndevice pins have to be connected respectively to VDD and VSS."),Object(n.b)("p",null,"Thanks to the Octo-SPI memory-mapped mode, the external memory can be accessed as if\nit was an internal memory allowing the system masters (such as DMA, LTDC, DMA2D,\nGFXMMU or SDMMC) to access autonomously even in low-power mode when the CPU is\nstopped, which is ideal for mobile and wearable applications"),Object(n.b)("p",null,"Below, an overview of the different spi memories depending on the number of data lines:"),Object(n.b)(i.a,{imageSource:"/img/Development/HardwareSelection/External_Flash/Serial_modes.png",caption:"",noShadow:!0,width:"500",mdxType:"Figure"}),Object(n.b)("h4",{id:"parallel-nor-flash-memories"},"Parallel NOR flash memories"),Object(n.b)("p",null,"The same advantages as the serial flash memory in term of performance and configuration.\nThe parallel NOR flash can be configured in memory mapped mode and can be accessed as if it was an internal memory.\nBy the way, the differences between the parallel and serial NOR flash is the number of pins and the complexity of the printed circuit board (PCB)"),Object(n.b)("p",null,"Up to ",Object(n.b)("strong",{parentName:"p"}," 47 pins ")," are needed for tha NAND flash memory with up to 24 pins for address and 16 pins for data."),Object(n.b)("h3",{id:"nand-flash-memories"},"NAND flash memories"),Object(n.b)("p",null,"The NAND flash memories is ideal for applications such as data storage where ",Object(n.b)("strong",{parentName:"p"}," higher memory capacity ")," and ",Object(n.b)("strong",{parentName:"p"}," faster write and erase operations ")," are required\nThe NAND flashs memories can't be configured as a memory mapped mode and in consequence, the NAND flash memories are ",Object(n.b)("strong",{parentName:"p"}," not recommended for code execution. ")),Object(n.b)("p",null,"Compared to NOR flash memories, the NAND flash memories have a ",Object(n.b)("strong",{parentName:"p"}," lower cost ")," but more needed GPIOs compared to serial NOR flash memories.\nUp to ",Object(n.b)("strong",{parentName:"p"}," 21 pins ")," are needed for tha NAND flash memory with 16 or 8 pins for data."),Object(n.b)(i.a,{imageSource:"/img/Development/HardwareSelection/External_Flash/NAND.png",caption:"",noShadow:!0,width:"500",mdxType:"Figure"}),Object(n.b)("h3",{id:"emmc-memories"},"eMMC memories"),Object(n.b)("p",null,"==> To Be verified"),Object(n.b)("p",null,"eMMC (Embedded MulTI Media Card), established by the MMC Association, is a standard specification of embedded memory for products such as mobile phones or tablets. eMMC is equivalent to NAND flash plus master IC, and similar to SD or TF card in external interface protocol. One obvious advantage of eMMC is the integration of a controller in the package that provides standard interfaces and manages flash memory, allowing handset manufacturers to concentrate on other parts of product development and shorten the time to launch products to the market. These characteristics are equally important for NAND vendors who want to reduce lithography size and cost."),Object(n.b)("p",null,"eMMC consists of an embedded storage solution with an MMC (Multimedia Card) interface, a flash memory device, and a master controller, all in a small BGA package. eMMC has fast and upgradeable performance, whose interface speeds is up to 52 M Bytes per second and interface voltage can be 1.8v or 3.3v."),Object(n.b)("p",null,"Up to ",Object(n.b)("strong",{parentName:"p"}," 10 pins ")," are needed for tha eMMC flash memory with 8 pins for data."),Object(n.b)(i.a,{imageSource:"/img/Development/HardwareSelection/External_Flash/eMMC.png",caption:"",noShadow:!0,width:"500",mdxType:"Figure"}),Object(n.b)("h2",{id:"volatile-memories"},"Volatile memories"),Object(n.b)("p",null,'Volatile memory is mainly used for storing the framebuffer(s). This section focussed on SRAM, DRAM and PSRAM as they are commonly used in embedded systems running a GUI. But here are other available variants, and the memory manufactures are using different naming schemes for their memories for example "hyper RAM", "IoT RAM", "octal RAM", and common for most of them is you can find an STM32 MCU which support it.  '),Object(n.b)(i.a,{imageSource:"/img/Development/HardwareSelection/external-memories/volatile-memory-overview.png",caption:"Volatile Memories",mdxType:"Figure"}),Object(n.b)("p",null,"When selecting the right external RAM, we recommend having the following in mind:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Type of interface"),Object(n.b)("li",{parentName:"ul"},"Number of pins needed"),Object(n.b)("li",{parentName:"ul"},"Framebuffer strategy and size of needed framebuffer(s)"),Object(n.b)("li",{parentName:"ul"},"Synchronous or asynchronous RAM"),Object(n.b)("li",{parentName:"ul"},"Performance in Mbps"),Object(n.b)("li",{parentName:"ul"},"Bill of material VS.Performance")),Object(n.b)("h4",{id:"sram"},"SRAM"),Object(n.b)("p",null,"SRAM is a static random-access memory and is retaining the bit data as long as the power is supplied. Generally SRAM provides faster access, but can be more expensive than DRAM.\nSRAM typically has a lower access time compared to DRAM and therefor more suitable for GUIs needing more animations, scaling, rotation etc.\nSRAM comes in both synchronous and asynchronous modes, where as the synchronous modes offers higher bandwidth capabilities, but also a more complex interface."),Object(n.b)("p",null,"Note. also available as a non-volatile random-access memory called nvSRAM which also has the ability to store and recall data. "),Object(n.b)("h4",{id:"dram"},"DRAM"),Object(n.b)("p",null,"DRAM is a dynamic random-access memory and stores each bit of data on capacitors, which requires less physical space to store the same amount of data compared to SRAM (Static RAM). As it requires constantly refresh in order to keep the data, it requires more power compared to SRAM.\nDRAM also comes in both synchronous (SDRAM) and asynchronous modes, and offers higher performance compared to asynchronous DRAM.  "),Object(n.b)("h4",{id:"psram"},"PSRAM"),Object(n.b)("h4",{id:"others"},"Others"),Object(n.b)("p",null,"SDRAM"))}p.isMDXComponent=!0}}]);