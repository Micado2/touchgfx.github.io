(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{170:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return s})),r.d(t,"metadata",(function(){return h})),r.d(t,"rightToc",(function(){return p})),r.d(t,"default",(function(){return m}));var n=r(1),a=r(9),o=(r(0),r(227)),i=r(229),c=r(231),l=r(230),s={id:"hardware-selection-mcu",title:"MCU"},h={id:"Development/HardwareSelection/HardwareComponents/hardware-selection-mcu",title:"MCU",description:"import Figure from '@site/components/Figure';\r",source:"@site/docs\\Development\\HardwareSelection\\HardwareComponents\\mcu.mdx",permalink:"/docs/Development/HardwareSelection/HardwareComponents/hardware-selection-mcu",sidebar:"docs",previous:{title:"Before Selection of Hardware",permalink:"/docs/Development/HardwareSelection/before-selection-of-hardware"},next:{title:"Display",permalink:"/docs/Development/HardwareSelection/HardwareComponents/hardware-selection-display"}},p=[{value:"Cortex-M Core",id:"cortex-m-core",children:[]},{value:"Frequency",id:"frequency",children:[]},{value:"Memory Interfaces",id:"memory-interfaces",children:[]},{value:"Embedded Hardware Acceleration Features",id:"embedded-hardware-acceleration-features",children:[{value:"Chrom-ART",id:"chrom-art",children:[]},{value:"JPEG Hardware codec",id:"jpeg-hardware-codec",children:[]},{value:"Chrom-GRC",id:"chrom-grc",children:[]}]},{value:"Size of Internal Flash",id:"size-of-internal-flash",children:[]},{value:"Size of Internal RAM",id:"size-of-internal-ram",children:[]},{value:"Packages",id:"packages",children:[]},{value:"I/O",id:"io",children:[]},{value:"Price",id:"price",children:[]},{value:"Others",id:"others",children:[{value:"Level 1 Cache:",id:"level-1-cache",children:[]},{value:"STM32 Value lines products",id:"stm32-value-lines-products",children:[]}]},{value:"Bus Architecture",id:"bus-architecture",children:[]}],d={rightToc:p},u="wrapper";function m(e){var t=e.components,r=Object(a.a)(e,["components"]);return Object(o.b)(u,Object(n.a)({},d,r,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The Microcontroller Unit (MCU) is at the core of any embedded solution and there are a wide variety of options in both costs and features. This page will go through the different variance points of the MCU and what parameters should be considered when deciding on which STM32 MCU you should select for your individual GUI driven application."),Object(o.b)("p",null,"The performance of a graphics application depends on several points:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"The system frequency"),Object(o.b)("li",{parentName:"ul"},"The cortexM use"),Object(o.b)("li",{parentName:"ul"},"The availability of graphics accelerators integrated in the MCU"),Object(o.b)("li",{parentName:"ul"},"The size of the RAM allocated to the application"),Object(o.b)("li",{parentName:"ul"},"The flash memory tiller."),Object(o.b)("li",{parentName:"ul"},"the execution of the application of an internal or external memory"),Object(o.b)("li",{parentName:"ul"},"The availability of a Cache memory in the system.")),Object(o.b)(i.a,{imageSource:"/img/Development/HardwareSelection/mcu/en_stm32_graphic.png",caption:"STM32 MCU",noShadow:!0,width:"600",mdxType:"Figure"}),Object(o.b)(c.a,{mdxType:"FurtherReading"},Object(o.b)("li",null,"For a more complete overview of all product lines, peripherals, prices etc., ",Object(o.b)(l.a,{to:"https://www.st.com/en/development-tools/st-mcu-finder.html",mdxType:"Link"},"the ST MCU Finder is available here"),".")),Object(o.b)("h2",{id:"cortex-m-core"},"Cortex-M Core"),Object(o.b)("p",null,"The ",Object(o.b)("strong",{parentName:"p"}," CortexM0+ ")," is characterized by the simple architecture, low price of STM32 products using ",Object(o.b)("strong",{parentName:"p"}," CortexM0+ "),", low power application and\nhighly recommended for static graphics applications and using fewer resources and an acceptable resolution quality (QVGA)"),Object(o.b)("p",null,"The ",Object(o.b)("strong",{parentName:"p"}," CortexM4 ")," contains more functionality than that of the ",Object(o.b)("strong",{parentName:"p"}," M0+ ")," and mainly acceleration of calculation.\n",Object(o.b)("strong",{parentName:"p"}," CortexM4 ")," has a DSP instruction set\nThe ",Object(o.b)("strong",{parentName:"p"}," CortexM4 ")," has a single precision FPU unit\nThese instruction sets rid the CPU of enormous software computation and increase the speed of calculates thus the possibility of targetting a screen with a higher resolution and a sharper image quality."),Object(o.b)("p",null,"The ",Object(o.b)("strong",{parentName:"p"}," CortexM7 "),", certainly with a more complex architecture but in addition to a DSP instruction set, comes with a more efficient FPU unit with double precision and a level1 cache memory up to ",Object(o.b)("strong",{parentName:"p"}," 16KB ")," for data and instruction.\nThe cache memory gives the possibility of having data and instructions close to the calculation unit in order to optimize the fetch time."),Object(o.b)(i.a,{imageSource:"/img/Development/HardwareSelection/mcu/CortexM_Features.png",caption:"Cortex M",noShadow:!0,width:"500",mdxType:"Figure"}),Object(o.b)("p",null,"dual core\nthe second core can offload a heavy calculation to allow the M7 core for the drawing operations."),Object(o.b)("h2",{id:"frequency"},"Frequency"),Object(o.b)("p",null,"The system frequency has a major impact on the final result of a graphical application in terms of screen refresh and flow of screens and animations.\nIn fact, the system frequency impacts the number of data that will be transferred from an internal or external memory to the LCD framebuffer.\nThe higher the system frequency, the greater the number of data to be transferred."),Object(o.b)("p",null,"Having a graphical application with a smooth transition between frame, sliding and a smooth animation requires an MCU with a high system frequency\n==> STM32H7 products up to 480MHz\n==> STM32F4 products up to 180MHz"),Object(o.b)("p",null,"The System frequency (MHz) after the CortexM is chosen is the second criteria to select the MCU.\nDefining the bandwidth\nThe frequency (MHz) of an MCU has a large impact on the ability to drive a fluid UI. It dictates how fast operations are carried out, how fast calculations are made (for example when animating a TextureMapper); basically the general speed of the whole hardware solution. It comes in many different speeds suited for different needs:"),Object(o.b)("p",null,"The range of the frequency is between ",Object(o.b)("strong",{parentName:"p"}," 120MHZ ")," and ",Object(o.b)("strong",{parentName:"p"}," 480MHZ ")," for the STM32 advanced graphic products."),Object(o.b)("h2",{id:"memory-interfaces"},"Memory Interfaces"),Object(o.b)("p",null,"The graphic resources in the most of cases are stored in an the external flash and the LCD framebuffer in the external RAM.\nThe STM32 products provide the flexible memory controller peripheral to interface with the SRAM, SDRAM, NOR and SPI memories. "),Object(o.b)("p",null,"==> Bandwidth"),Object(o.b)("h2",{id:"embedded-hardware-acceleration-features"},"Embedded Hardware Acceleration Features"),Object(o.b)("h3",{id:"chrom-art"},"Chrom-ART"),Object(o.b)("p",null,"The chrom-ART accelerator integrated in many STM32 platforms is able to manipulate and transfer images without CPU load.\nColor filling or images copying operations, blending and/or pixel format convertion, the DMA2D have tha capability to accelerate the majority of the graphic operations."),Object(o.b)("p",null,"The availability of the chrom-ART in the chosen MCU has an importante added value. "),Object(o.b)(c.a,{mdxType:"FurtherReading"},Object(o.b)("li",null,"Refer to AN4943 application note for more information:, ",Object(o.b)(l.a,{to:"https://www.st.com/content/ccc/resource/technical/document/application_note/group0/17/82/73/f8/b8/8a/47/c7/DM00338361/files/DM00338361.pdf/jcr:content/translations/en.DM00338361.pdf",mdxType:"Link"},"Chrom-ART Hardware acceleration"),".")),Object(o.b)("h3",{id:"jpeg-hardware-codec"},"JPEG Hardware codec"),Object(o.b)("p",null,"The ",Object(o.b)("strong",{parentName:"p"}," STM32H7 ")," and ",Object(o.b)("strong",{parentName:"p"}," STM32F7 ")," families provides a hardware jpeg codec peripheral to perform JPEG encode and decode operations.\nThis feature can be important if the UI application contain need to parse a video files (.AVI) to redirect the image decoding to tha hardware codec.\nAlso, the images can be stored in Jpeg format and decoded in runtime to save flash memory."),Object(o.b)(c.a,{mdxType:"FurtherReading"},Object(o.b)("li",null,"Refer to AN4996 application note for more information:, ",Object(o.b)(l.a,{to:"https://www.st.com/content/ccc/resource/technical/document/application_note/group0/a5/9d/22/46/61/6d/4a/ab/DM00356635/files/DM00356635.pdf/jcr:content/translations/en.DM00356635.pdf",mdxType:"Link"},"Hardware JPEG codec"),".")),Object(o.b)("h3",{id:"chrom-grc"},"Chrom-GRC"),Object(o.b)("p",null,"If the chosen LCD will be a rounded one, the STM32L4 provides GFXMMU peripheral supporting such LCDs and optimising the memory allocated to the framebuffers."),Object(o.b)(c.a,{mdxType:"FurtherReading"},Object(o.b)("li",null,"Refer to AN5051 application note for more information:, ",Object(o.b)(l.a,{to:"https://www.st.com/content/ccc/resource/technical/document/application_note/group0/74/21/86/42/af/d5/4f/58/DM00407777/files/DM00407777.pdf/jcr:content/translations/en.DM00407777.pdf",mdxType:"Link"},"Graphic memory optimization"),".")),Object(o.b)("h2",{id:"size-of-internal-flash"},"Size of Internal Flash"),Object(o.b)("p",null,"Enabling the graphic and using different resources to design the UI need to allocate a constante memory to store these data.\nDepending on the The size of the internal flash\nThe portofolio of STM32 products is between ",Object(o.b)("strong",{parentName:"p"}," 8Kb ")," and ",Object(o.b)("strong",{parentName:"p"}," 2Mb ")," of internal flash memory "),Object(o.b)("h2",{id:"size-of-internal-ram"},"Size of Internal RAM"),Object(o.b)("p",null,"Range: "),Object(o.b)("h2",{id:"packages"},"Packages"),Object(o.b)("p",null,"No"),Object(o.b)("h2",{id:"io"},"I/O"),Object(o.b)("p",null,"The number of the I/O avialble in the chosen product/package is important knowing the needed LCD controller for your application.\nWith LTDC controller, DSI or SPI"),Object(o.b)("h2",{id:"price"},"Price"),Object(o.b)("p",null,"Im not sure that we have to add this section in the article ...\nOf course it's necessary to know the price of the MCUs to decide wich one to be used ... "),Object(o.b)("h2",{id:"others"},"Others"),Object(o.b)("h3",{id:"level-1-cache"},"Level 1 Cache:"),Object(o.b)("p",null,"The STM32H7 and STM32F7 families include up to ",Object(o.b)("strong",{parentName:"p"}," 16 Kbytes ")," of L1-Cache both for instructions and data.\nAn L1-Cache stores a set of data or instruction near to the CPU, so the CPU does not have to keep feetching the same data that is repeatedly used."),Object(o.b)("p",null,"Thanks to the Level 1 cache memory and the hardware JPEG codec the CPU load is deacreased by more then ",Object(o.b)("strong",{parentName:"p"}," 80% ")," and the decoding performance is from now on ",Object(o.b)("strong",{parentName:"p"}," 2.5 times ")," with STM32H7 products compared to STM32F7 products."),Object(o.b)(i.a,{imageSource:"/img/Development/HardwareSelection/mcu/hw_jpeg_cache.png",caption:"Hardware JPEG codec and Cache performance",noShadow:!0,width:"500",mdxType:"Figure"}),Object(o.b)(c.a,{mdxType:"FurtherReading"},Object(o.b)("li",null,"Refer to AN4839 application note for more information:, ",Object(o.b)(l.a,{to:"https://www.st.com/content/ccc/resource/technical/document/application_note/group0/08/dd/25/9c/4d/83/43/12/DM00272913/files/DM00272913.pdf/jcr:content/translations/en.DM00272913.pdf",mdxType:"Link"},"Level 1 Cache"),".")),Object(o.b)("h3",{id:"stm32-value-lines-products"},"STM32 Value lines products"),Object(o.b)("p",null,"For prices optimisation, STM32H7 and STM32F7 platforms provides value line products with limited internal flash and RAM sizes.\nWith these products, the code execution will be from the external RAM and the graphic resources will be stored in the external falsh. "),Object(o.b)("h2",{id:"bus-architecture"},"Bus Architecture"),Object(o.b)(c.a,{mdxType:"FurtherReading"},Object(o.b)("li",null,"See ",Object(o.b)(l.a,{to:"https://www.st.com/en/microcontrollers-microprocessors/stm32-32-bit-arm-cortex-mcus.html",mdxType:"Link"},"STM32 32-bit Arm Cortex MCUs")," for available STM32 microcontrollers.")))}m.isMDXComponent=!0},227:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return b}));var n=r(0),a=r.n(n);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=a.a.createContext({}),h=function(e){var t=a.a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):c({},t,{},e)),r},p=function(e){var t=h(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},m=Object(n.forwardRef)((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,i=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=h(r),d=n,m=p["".concat(i,".").concat(d)]||p[d]||u[d]||o;return r?a.a.createElement(m,c({ref:t},s,{components:r})):a.a.createElement(m,c({ref:t},s))}));function b(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=m;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c[d]="string"==typeof e?e:n,i[1]=c;for(var s=2;s<o;s++)i[s]=r[s];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},228:function(e,t,r){"use strict";var n=r(5),a=r(0),o=r.n(a),i=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){var e="highlight highlight-"+this.props.type;return o.a.createElement("div",{class:e},o.a.createElement("div",{class:"highlight-heading"},o.a.createElement("h5",null,o.a.createElement("div",{class:"highlight-icon"},this.props.icon),this.props.header)),o.a.createElement("div",{class:"highlight-content"},this.props.children))},t}(a.Component);t.a=i},229:function(e,t,r){"use strict";var n=r(5),a=r(0),o=r.n(a),i=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){var e=this.props.noShadow||!1,t=this.props.width,r=this.props.height;return e?o.a.createElement("div",{class:"figure noshadow"},o.a.createElement("a",{href:this.props.imageSource,target:"_blank"},o.a.createElement("img",{width:t,height:r,src:this.props.imageSource})),o.a.createElement("p",null,this.props.caption)):o.a.createElement("div",{class:"figure"},o.a.createElement("a",{href:this.props.imageSource,target:"_blank"},o.a.createElement("img",{width:t,height:r,src:this.props.imageSource})),o.a.createElement("p",null,this.props.caption))},t}(a.Component);t.a=i},230:function(e,t,r){"use strict";var n=r(1),a=r(0),o=r.n(a),i=r(34),c=/^\/(?!\/)/;t.a=function(e){var t,r=e.to,l=e.href,s=r||l,h=c.test(s),p=Object(a.useRef)(!1),d="undefined"!=typeof window&&"IntersectionObserver"in window;return Object(a.useEffect)((function(){return!d&&h&&window.docusaurus.prefetch(s),function(){d&&t&&t.disconnect()}}),[s,d,h]),s&&h?o.a.createElement(i.b,Object(n.a)({},e,{onMouseEnter:function(){p.current||(window.docusaurus.preload(s),p.current=!0)},innerRef:function(e){var r,n;d&&e&&h&&(r=e,n=function(){window.docusaurus.prefetch(s)},(t=new window.IntersectionObserver((function(e){e.forEach((function(e){r===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(t.unobserve(r),t.disconnect(),n())}))}))).observe(r))},to:s})):o.a.createElement("a",Object(n.a)({},e,{href:s}))}},231:function(e,t,r){"use strict";var n=r(5),a=r(0),o=r.n(a),i=r(228),c=o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},o.a.createElement("path",{"fill-rule":"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})),l=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){return o.a.createElement(i.a,{color:"var(--highlight-color-further-reading)",header:"Further reading",type:"further-reading",icon:c},this.props.children)},t}(a.Component);t.a=l}}]);